<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-bounce.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"odddog-git.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="JavaWeb主要指使用Java语言进行动态Web资源开发技术的统称，是解决相关Web互联网领域的技 术总和。JavaWeb有三大组件，分别为：Servlet、Filter、 Listener。">
<meta property="og:type" content="article">
<meta property="og:title" content="javaWeb笔记">
<meta property="og:url" content="http://odddog-git.github.io/2021/06/18/javaWeb%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="hui&#39;s Blog">
<meta property="og:description" content="JavaWeb主要指使用Java语言进行动态Web资源开发技术的统称，是解决相关Web互联网领域的技 术总和。JavaWeb有三大组件，分别为：Servlet、Filter、 Listener。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://z3.ax1x.com/2021/06/19/RCBNLt.png">
<meta property="og:image" content="https://z3.ax1x.com/2021/06/19/RChX7Q.png">
<meta property="og:image" content="https://z3.ax1x.com/2021/06/21/RVeA0J.png">
<meta property="og:image" content="https://z3.ax1x.com/2021/06/21/RVeyAs.png">
<meta property="og:image" content="https://z3.ax1x.com/2021/07/14/WZh2QI.jpg">
<meta property="og:image" content="https://z3.ax1x.com/2021/07/11/W9QnaD.jpg">
<meta property="og:image" content="https://z3.ax1x.com/2021/07/14/WVD0v4.jpg">
<meta property="og:image" content="https://z3.ax1x.com/2021/07/14/WVcn1K.jpg">
<meta property="og:image" content="https://z3.ax1x.com/2021/07/14/WVg3KU.jpg">
<meta property="og:image" content="https://z3.ax1x.com/2021/07/14/WVgaP1.jpg">
<meta property="article:published_time" content="2021-06-18T08:30:46.000Z">
<meta property="article:modified_time" content="2021-07-31T09:07:30.724Z">
<meta property="article:author" content="怪狗狗">
<meta property="article:tag" content="javaWeb">
<meta property="article:tag" content="jsp">
<meta property="article:tag" content="servlet">
<meta property="article:tag" content="tomcat">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://z3.ax1x.com/2021/06/19/RCBNLt.png">

<link rel="canonical" href="http://odddog-git.github.io/2021/06/18/javaWeb%E7%AC%94%E8%AE%B0/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>javaWeb笔记 | hui's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>
  <a target="_blank" rel="noopener" href="https://oddDog-git" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">hui's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://odddog-git.github.io/2021/06/18/javaWeb%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/jerry.jpg">
      <meta itemprop="name" content="怪狗狗">
      <meta itemprop="description" content="踏上新征程----go！！！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hui's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          javaWeb笔记
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-06-18 16:30:46" itemprop="dateCreated datePublished" datetime="2021-06-18T16:30:46+08:00">2021-06-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-07-31 17:07:30" itemprop="dateModified" datetime="2021-07-31T17:07:30+08:00">2021-07-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/06/18/javaWeb%E7%AC%94%E8%AE%B0/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/06/18/javaWeb%E7%AC%94%E8%AE%B0/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><strong>JavaWeb</strong>主要指使用Java语言进行动态Web资源开发技术的统称，是解决相关Web互联网领域的技 术总和。JavaWeb有三大组件，分别为：<strong>Servlet</strong>、<strong>Filter</strong>、 <strong>Listener</strong>。<a id="more"></a></p>
<h1 id="Tomcat"><a href="#Tomcat" class="headerlink" title="Tomcat"></a>Tomcat</h1><p>Tomcat 服务器是一个开源的轻量级Web应用服务器，在中小型系统和并发量小的场合下被普遍使 用，是开发和调试Servlet、JSP 程序的首选。</p>
<p><strong>目录结构说明</strong></p>
<ul>
<li>bin 主要存放二进制可执行文件和脚本。 </li>
<li>conf 主要存放各种配置文件。 </li>
<li>lib 主要用来存放Tomcat运行需要加载的jar包。 </li>
<li>logs 主要存放Tomcat在运行过程中产生的日志文件。 </li>
<li>temp 主要存放Tomcat在运行过程中产生的临时文件。 </li>
<li>webapps 主要存放应用程序，当Tomcat启动时会去加载该目录下的应用程序。 </li>
<li>work 主要存放tomcat在运行时的编译后文件，例如JSP编译后的文件。</li>
</ul>
<p><strong>启动和关闭</strong> </p>
<ul>
<li>启动方式 使用bin目录下的批处理文件startup.bat来启动Tomcat服务器，若出现一个毫秒数说明启动成 功。 </li>
<li>关闭方式 使用bin目录下的批处理文件shutdown.bat来关闭Tomcat服务器。 </li>
</ul>
<p><strong>注意事项</strong> 启动之前首先安装JDK并配置环境变量JAVA_HOME，若希望Tomcat服务器可以在任意路径启动， 则需要配置环境变量CATALINA_HOME。 </p>
<p><strong>启动信息乱码的处理方式</strong>    logging.properties文件修改编码java.util.logging.ConsoleHandler.encoding = GBK</p>
<p><strong>配置文件</strong></p>
<ul>
<li>server.xml文件是服务器的主配置文件，可以设置端口号、设置域名或IP、默认加载的项目、请求 编码等。</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Connector</span> <span class="attr">port</span>=<span class="string">&quot;8888&quot;</span> <span class="attr">protocol</span>=<span class="string">&quot;HTTP/1.1&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">connectionTimeout</span>=<span class="string">&quot;20000&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">redirectPort</span>=<span class="string">&quot;8443&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>tomcat-users.xml文件用来配置管理Tomcat服务器的用户与权限 。</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">role</span> <span class="attr">rolename</span>=<span class="string">&quot;manager-gui&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">user</span> <span class="attr">username</span>=<span class="string">&quot;admin&quot;</span> <span class="attr">password</span>=<span class="string">&quot;123456&quot;</span> <span class="attr">roles</span>=<span class="string">&quot;manager-gui&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="Servlet"><a href="#Servlet" class="headerlink" title="Servlet"></a>Servlet</h1><p><strong>基本概念</strong></p>
<ul>
<li>Servlet（Server Applet）是Java Servlet的简称，称为小服务程序或服务连接器，是Java语言编写 的服务器端程序，换句话说，Servlet就是运行在服务器上的Java类。 </li>
<li>Servlet用来完成B/S架构下客户端请求的响应处理，也就是交互式地浏览和生成数据，生成动态 Web内容。</li>
</ul>
<h2 id="Servlet的编程步骤"><a href="#Servlet的编程步骤" class="headerlink" title="Servlet的编程步骤"></a>Servlet的编程步骤</h2><ul>
<li><p>建立一个Java Web Application项目并配置Tomcat服务器。 </p>
</li>
<li><p>自定义类实现Servlet接口或继承其子类， 并重写service方法。 </p>
</li>
<li><p>将自定义类的信息配置到 web.xml文件并启动项目</p>
</li>
<li><p>在浏览器上访问的方式为：</p>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/工程路径/servlet访问名</span><br></pre></td></tr></table></figure>
<h3 id="Servlet配置"><a href="#Servlet配置" class="headerlink" title="Servlet配置"></a>Servlet配置</h3><p><strong>xml方式配置</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 配置Servlet --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 取别名 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span> myServlet <span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--Servlet类名的真实路径 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span> com.hui.MyServlet <span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 映射Servlet --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- myServlet是Servlet类的别名，与上述名称必须相同 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span> myServlet <span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- /hello是供浏览器使用的地址 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span> /hello <span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>注解方式配置</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  name是别名，urlPatterns是供浏览器使用的地址</span></span><br><span class="line"><span class="meta">@WebServlet(name = &quot;myServlet4&quot;, urlPatterns = &quot;/my4&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyServlet4</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="comment">//....................................</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Servlet接口"><a href="#Servlet接口" class="headerlink" title="Servlet接口"></a>Servlet接口</h3><p>javax.servlet.Servlet接口用于定义所有servlet必须实现的方法。</p>
<table>
<thead>
<tr>
<th>方法声明</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>void init(ServletConfig config)</td>
<td>由servlet容器调用，以向servlet指示servlet正在被放入服务中</td>
</tr>
<tr>
<td>void service(ServletRequest req,ServletResponse res)</td>
<td>由servlet容器调用，以允许servlet响应请求</td>
</tr>
<tr>
<td>ServletConfig getServletConfig()</td>
<td>返回ServletConfig对象，该对象包含此servlet的初始化和启动参数</td>
</tr>
<tr>
<td>String getServletInfo()</td>
<td>返回有关servlet的信息，如作者、版本和版权</td>
</tr>
<tr>
<td>void destroy()</td>
<td>由servlet容器调用，以向servlet指示该servlet正在退出服务</td>
</tr>
</tbody></table>
<h3 id="GenericServlet类"><a href="#GenericServlet类" class="headerlink" title="GenericServlet类"></a>GenericServlet类</h3><p>javax.servlet.GenericServlet类主要用于定义一个通用的、与协议无关的servlet，该类实现了 Servlet接口。 若编写通用servlet，只需重写service抽象方法即可。</p>
<table>
<thead>
<tr>
<th>方法声明</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>abstract void service(ServletRequest req,ServletResponse res)</td>
<td>由servlet容器调用允许servlet响应请求</td>
</tr>
</tbody></table>
<h3 id="HttpServlet类"><a href="#HttpServlet类" class="headerlink" title="HttpServlet类"></a>HttpServlet类</h3><p>javax.servlet.http.HttpServlet类是个抽象类并继承了GenericServlet类。 用于创建适用于网站的HTTP Servlet，该类的子类必须至少重写一个方法</p>
<table>
<thead>
<tr>
<th>方法声明</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>void doGet(HttpServletRequest req,HttpServletResponse resp)</td>
<td>处理客户端的GET请求</td>
</tr>
<tr>
<td>void doPost(HttpServletRequest req,HttpServletResponse resp)</td>
<td>处理客户端的POST请求</td>
</tr>
<tr>
<td>void init()</td>
<td>进行初始化操作</td>
</tr>
<tr>
<td>void service(HttpServletRequest req,HttpServletResponse resp)</td>
<td>根据请求决定调用doGet还是doPost方法</td>
</tr>
<tr>
<td>void destroy()</td>
<td>删除实例时释放资源</td>
</tr>
</tbody></table>
<ul>
<li><p>继承HttpServlet接口一般不实现service() 方法，而是实现 doGet()   和   doPost() 方法，因为service()方法里就是根据请求决定调用doGet还是doPost。</p>
</li>
<li><p>代码一般写在doPost() 方法里，而doGet() 方法中则直接调用doPost()方法 :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>.doPost(request, response);</span><br></pre></td></tr></table></figure>
<h3 id="Servlet的生命周期"><a href="#Servlet的生命周期" class="headerlink" title="Servlet的生命周期"></a>Servlet的生命周期</h3></li>
<li><p>构造方法只被调用一次，当第一次请求Servlet时调用构造方法来创建Servlet的实例。</p>
<ul>
<li>如果在配置文件中配置<code>&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;</code>标签 ，就会在程序启动时实例化该servlet</li>
</ul>
</li>
<li><p>init方法只被调用一次，当创建好Servlet实例后立即调用该方法实现Servlet的初始化。</p>
</li>
<li><p>service方法被多次调用，每当有请求时都会调用service方法来用于请求的响应。 </p>
</li>
<li><p>destroy方法只被调用一次，当该Servlet实例所在的Web应用被卸载前调用该方法来释放当前占用 的资源。</p>
</li>
</ul>
<h2 id="POST和GET请求"><a href="#POST和GET请求" class="headerlink" title="POST和GET请求"></a>POST和GET请求</h2><h3 id="GET请求"><a href="#GET请求" class="headerlink" title="GET请求"></a>GET请求</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">发出GET请求的主要方式：</span><br><span class="line">    （1）在浏览器输入URL按回车</span><br><span class="line">    （2）点击&lt;a&gt;超链接</span><br><span class="line">    （3）点击submit按钮，提交 &lt;form method&#x3D;“get”&gt;表单</span><br><span class="line">GET请求特点：</span><br><span class="line">	 会将请求数据添加到请求URL地址的后面，只能提交少量的数据、不安全</span><br></pre></td></tr></table></figure>
<h3 id="POST请求"><a href="#POST请求" class="headerlink" title="POST请求"></a>POST请求</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">发出POST请求的方法如下：</span><br><span class="line">	点击submit按钮，提交 &lt;form method&#x3D;“post”&gt;表单</span><br><span class="line">POST请求的特点：</span><br><span class="line">	请求数据添加到HTTP协议体中，可提交大量数据、安全性好</span><br></pre></td></tr></table></figure>
<h3 id="ServletRequest接口"><a href="#ServletRequest接口" class="headerlink" title="ServletRequest接口"></a>ServletRequest接口</h3><p><strong>基本概念</strong></p>
<ul>
<li>javax.servlet.ServletRequest接口主要用于向servlet提供客户端请求信息，可以从中获取到任何 请求信息。 </li>
<li>Servlet容器创建一个ServletRequest对象，并将其作为参数传递给Servlet的service方法。</li>
</ul>
<table>
<thead>
<tr>
<th>方法声明</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>String getParameter(String name)</td>
<td>以字符串形式返回请求参数的值，如果该参数不存在，则返回空值</td>
</tr>
<tr>
<td>String[] getParameterValues(String name)</td>
<td>返回一个字符串对象数组，其中包含给定请求参数所具有的所有值，如果该参数不存在，则返回空值</td>
</tr>
<tr>
<td>Enumeration getParameterNames()</td>
<td>返回包含此请求中包含的参数名称的字符串对象的枚举。如果请求没有参数，则方法返回空枚举</td>
</tr>
<tr>
<td>Map&lt;String, String[]&gt; getParameterMap()</td>
<td>返回请求参数的键值对，一个键可以对应多个值</td>
</tr>
<tr>
<td>String getRemoteAddr()</td>
<td>返回发送请求的客户端或最后一个代理的IP地址</td>
</tr>
<tr>
<td>int  getRemotePort()</td>
<td>返回发送请求的客户端或最后一个代理的端口号</td>
</tr>
</tbody></table>
<h3 id="HttpServletRequest接口"><a href="#HttpServletRequest接口" class="headerlink" title="HttpServletRequest接口"></a>HttpServletRequest接口</h3><p><strong>基本概念</strong></p>
<ul>
<li>javax.servlet.http.HttpServletRequest接口是ServletRequest接口的子接口，主要用于提供HTTP 请求信息的功能。 </li>
<li>不同于表单数据，在发送HTTP请求时，HTTP请求头直接由浏览器设置。 </li>
<li>可直接通过HttpServletRequest对象提供的一系列get方法获取请求头数据。</li>
</ul>
<table>
<thead>
<tr>
<th>方法声明</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>String getRequestURI()</td>
<td>返回此请求的资源路径信息</td>
</tr>
<tr>
<td>StringBuffer getRequestURL()</td>
<td>返回此请求的完整路径信息</td>
</tr>
<tr>
<td>String getMethod()</td>
<td>返回发出此请求的HTTP方法的名称，例如GET、POST</td>
</tr>
<tr>
<td>String getQueryString()</td>
<td>返回路径后面请求中附带的参数</td>
</tr>
<tr>
<td>String getServletPath()</td>
<td>返回此请求中调用servlet的路径部分</td>
</tr>
</tbody></table>
<h3 id="ServletResponse接口"><a href="#ServletResponse接口" class="headerlink" title="ServletResponse接口"></a>ServletResponse接口</h3><p><strong>基本概念</strong></p>
<ul>
<li>javax.servlet.ServletResponse接口用于定义一个对象来帮助Servlet向客户端发送响应。 </li>
<li>Servlet容器创建ServletResponse对象，并将其作为参数传递给servlet的service方法。</li>
</ul>
<table>
<thead>
<tr>
<th>方法声明</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>PrintWriter getWriter()</td>
<td>返回可向客户端发送字符文本的PrintWriter对象</td>
</tr>
<tr>
<td>String getCharacterEncoding()</td>
<td>获取响应内容的编码方式</td>
</tr>
<tr>
<td>void setContentType(String type)</td>
<td>如果尚未提交响应，则设置发送到客户端响应的内容类型。内容类型可以包括字符编码规范，例如text/html;charset=UTF-8</td>
</tr>
</tbody></table>
<h3 id="HttpServletResponse接口"><a href="#HttpServletResponse接口" class="headerlink" title="HttpServletResponse接口"></a>HttpServletResponse接口</h3><p><strong>基本概念</strong></p>
<ul>
<li>javax.servlet.http.HttpServletResponse接口继承ServletResponse接口，以便在发送响应时提供 特定于HTTP的功能。</li>
</ul>
<table>
<thead>
<tr>
<th>方法声明</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>void sendRedirect(String location)</td>
<td>使用指定的重定向位置URL向客户端发送临时重定向响应</td>
</tr>
</tbody></table>
<h2 id="Servlet接收中文乱码"><a href="#Servlet接收中文乱码" class="headerlink" title="Servlet接收中文乱码"></a>Servlet接收中文乱码</h2><h3 id="接收乱码"><a href="#接收乱码" class="headerlink" title="接收乱码"></a>接收乱码</h3><p>浏览器在提交表单时，会对中文参数值进行自动编码。当Tomcat服务器接收到浏览器请求后自动 解码，当编码与解码方式不一致时,就会导致乱码。</p>
<p><strong>解决POST请求乱码</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">request.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>)</span><br></pre></td></tr></table></figure>
<p><strong>解决GET请求乱码</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//将接收到的中文乱码重新编码  （万能方式）</span></span><br><span class="line">String name = request.getParameter(<span class="string">&quot;name&quot;</span>);</span><br><span class="line"><span class="comment">// 将中文字符重新编码，默认编码为ISO-8859-1</span></span><br><span class="line">String userName = <span class="keyword">new</span> String(name.getBytes(<span class="string">&quot;ISO-8859-1&quot;</span>),<span class="string">&quot;utf-8&quot;</span>);</span><br></pre></td></tr></table></figure>
<h3 id="响应乱码"><a href="#响应乱码" class="headerlink" title="响应乱码"></a>响应乱码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response.setContentType(&quot;text&#x2F;html;charset&#x3D;UTF-8&quot;);</span><br></pre></td></tr></table></figure>
<h2 id="ServletConfig接口"><a href="#ServletConfig接口" class="headerlink" title="ServletConfig接口"></a>ServletConfig接口</h2><p><strong>基本概念</strong></p>
<p>javax.servlet.ServletConfig接口用于描述Servlet本身的相关配置信息，在初始化期间用于将信息 传递给Servlet配置对象。</p>
<p>Servlet接口中有 getServletConfig() 方法，子类中直接调用即可获取 ServletConfig对象。</p>
<p>init() 方法中，ServletConfig是init()的参数，可直接调用 ServletConfig对象。</p>
<p><strong>xml配置方法</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 在web.xml中配置ServletConfig初始化参数,可配置多个init-param --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>actionservlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.lagou.demo01.ActionServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 配置 Serlvet 的初始化参数 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 参数名 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>config<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 参数值 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>struts.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>常用方法</strong></p>
<table>
<thead>
<tr>
<th>方法声明</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>String getServletName()</td>
<td>返回Servlet的别名</td>
</tr>
<tr>
<td>String getInitParameter(String name)</td>
<td>返回包含初始化参数值的字符串，如果该参数不存在，则返回null</td>
</tr>
<tr>
<td>Enumeration getInitParameterNames()</td>
<td>将servlet的初始化参数的名称作为字符串对象的枚举返回，如果servlet没有初始化参数，则返回空枚举</td>
</tr>
<tr>
<td>ServletContext getServletContext()</td>
<td>返回对调用方正在其中执行的ServletContext的引用</td>
</tr>
</tbody></table>
<h2 id="ServletContext接口"><a href="#ServletContext接口" class="headerlink" title="ServletContext接口"></a>ServletContext接口</h2><p><strong>基本概念</strong></p>
<ul>
<li>javax.servlet.ServletContext接口主要用于定义一组方法，Servlet使用这些方法与其它的Servlet容 器通信。 </li>
<li>服务器容器在启动时会为每个项目创建唯一的一个ServletContext对象，用于实现多个Servlet之间 的信息共享和通信。 </li>
<li>在Servlet中通过this.getServletContext()方法可以获得ServletContext对象，也可以通过ServletConfig对象获取。</li>
</ul>
<p><strong>xml配置方法</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--在web.xml中配置ServletContext初始化参数 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>username<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>hui<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>password<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>123465<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>常用方法</strong></p>
<table>
<thead>
<tr>
<th>方法声明</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>String getInitParameter(String name)</td>
<td>返回包含初始化参数值的字符串，如果该参数不存在，则返回null</td>
</tr>
<tr>
<td>Enumeration getInitParameterNames()</td>
<td>将servlet的初始化参数的名称作为字符串对象的枚举返回，如果servlet没有初始化参数，则返回空枚举</td>
</tr>
<tr>
<td>String getRealPath(String path)</td>
<td>返回包含给定虚拟路径的实际路径的字符串</td>
</tr>
<tr>
<td>String getContextPath()</td>
<td>返回与此上下文关联的主路径</td>
</tr>
<tr>
<td>InputStream getResourceAsStream(String path)</td>
<td>将位于指定路径的资源作为InputStream对象返回</td>
</tr>
<tr>
<td>void setAttribute(String name, Object object)</td>
<td>将指定的属性名和属性值绑定到当前对象</td>
</tr>
<tr>
<td>Object getAttribute(String name)</td>
<td>根据执行的属性名获取属性值</td>
</tr>
<tr>
<td>void removeAttribute(String name)</td>
<td>删除指定的属性名信息</td>
</tr>
</tbody></table>
<h2 id="转发与重定向"><a href="#转发与重定向" class="headerlink" title="转发与重定向"></a>转发与重定向</h2><h3 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h3><p>首先客户浏览器发送http请求，当web服务器接受后发送302状态码响应及对应新的location给客 户浏览器，客户浏览器发现是302响应，则自动再发送一个新的http请求，请求url是新的location 地址，服务器根据此请求寻找资源并发送给客户。</p>
<p><strong>实现</strong></p>
<p>实现重定向需要借助javax.servlet.http.HttpServletResponse接口中的以下方法：</p>
<table>
<thead>
<tr>
<th>response中的方法</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>void sendRedirect(String location)</td>
<td>使用指定的重定向位置URL向客户端发送临时重定向响应</td>
</tr>
</tbody></table>
<p><strong>特点</strong> </p>
<ul>
<li>重定向之后，浏览器地址栏的URL会发生改变。 </li>
<li>重定向过程中会将前面Request对象销毁，然后创建一个新的Request对象。 重定向的URL可以是其它项目工程。</li>
</ul>
<h3 id="转发"><a href="#转发" class="headerlink" title="转发"></a>转发</h3><p>一个Web组件（Servlet/JSP）将未完成的处理通过容器转交给另外一个Web组件继续处理，转发 的各个组件会共享Request和Response对象。</p>
<p><strong>实现</strong></p>
<ul>
<li>获取转发器对象</li>
</ul>
<table>
<thead>
<tr>
<th>request中的方法</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>RequestDispatcher getRequestDispatcher(String path)</td>
<td>返回一个RequestDispatcher对象，该对象充当位于给定路径上的资源的包装器，形参为要转发的地址</td>
</tr>
</tbody></table>
<ul>
<li>转发操作</li>
</ul>
<table>
<thead>
<tr>
<th>RequestDispatcher中的方法</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>void forward(ServletRequest request, ServletResponse response)</td>
<td>将请求从一个servlet转发到服务器上的另一个资源（Servlet、JSP文件或HTML文件）</td>
</tr>
</tbody></table>
<p><strong>特点</strong> </p>
<ul>
<li>转发之后浏览器地址栏的URL不会发生改变。 </li>
<li>转发过程中共享Request对象，可以在request中使用setAttribute() 设置需要额外传递的数据。</li>
<li>转发的URL不可以是其它项目工程。</li>
</ul>
<h2 id="Servlet线程安全"><a href="#Servlet线程安全" class="headerlink" title="Servlet线程安全"></a>Servlet线程安全</h2><p>服务器在收到请求之后，会启动一个线程来进行相应的请求处理。 </p>
<p>默认情况下，服务器为每个Servlet只创建一个对象实例。当多个请求访问同一个Servlet时，会有 多个线程访问同一个Servlet对象，此时就可能发生线程安全问题。 </p>
<p>多线程并发逻辑，需要使用synchronized对代码加锁处理，但尽量避免使用。</p>
<h2 id="状态管理"><a href="#状态管理" class="headerlink" title="状态管理"></a>状态管理</h2><ul>
<li>Web程序基于HTTP协议通信，而HTTP协议是”<strong>无状态</strong>”的协议，一旦服务器响应完客户的请求之 后，就断开连接，而同一个客户的下一次请求又会重新建立网络连接。 </li>
<li>服务器程有时是需要判断是否为同一个客户发出的请求，因此，有必 要跟踪同一个客户发出的一系列请求。 </li>
<li>把浏览器与服务器之间多次交互作为一个整体，将多次交互所涉及的数据保存下来，即状态管理。 多次交互的数据状态可以在客户端保存，也可以在服务器端保存。</li>
<li>状态管理主要分为以下两类： <ul>
<li>客户端管理：将状态保存在客户端。基于Cookie技术实现。 </li>
<li>服务器管理：将状态保存在服务器端。基于Session技术实现。</li>
</ul>
</li>
</ul>
<h3 id="cookie技术"><a href="#cookie技术" class="headerlink" title="cookie技术"></a>cookie技术</h3><p><strong>基本概念</strong></p>
<ul>
<li>Cookie本意为”饼干“的含义，在这里表示客户端以“键值对”形式进行保存的一种技术。 </li>
<li>浏览器向服务器发送请求时，服务器将数据以Set-Cookie消息头的方式响应给浏览器，然后浏览器 会将这些数据以文本文件的方式保存起来。 </li>
<li>当浏览器再次访问服务器时，会将这些数据以Cookie消息头的方式发送给服务器。</li>
</ul>
<h4 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h4><table>
<thead>
<tr>
<th>Cookie类中的方法</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>Cookie(String name, String value)</td>
<td>根据参数指定数值构造对象</td>
</tr>
<tr>
<td>String getName()</td>
<td>返回此Cookie对象中的名字</td>
</tr>
<tr>
<td>String getValue()</td>
<td>返回此Cookie对象的数值</td>
</tr>
<tr>
<td>void setValue(String newValue)</td>
<td>设置Cookie的数值</td>
</tr>
</tbody></table>
<p><strong>request请求获取cookie对象</strong></p>
<table>
<thead>
<tr>
<th>request中的方法</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>Cookie[] getCookies()</td>
<td>返回此请求中包含的所有Cookie对象</td>
</tr>
</tbody></table>
<p><strong>response响应添加cookie对象</strong></p>
<table>
<thead>
<tr>
<th>respose中的方法</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>void addCookie(Cookie cookie)</td>
<td>添加参数指定的对象到响应</td>
</tr>
</tbody></table>
<h4 id="Cookie的生命周期"><a href="#Cookie的生命周期" class="headerlink" title="Cookie的生命周期"></a>Cookie的生命周期</h4><p>默认情况下，浏览器会将Cookie信息保存在内存中，只要浏览器关闭，Cookie信息就会消失。 </p>
<table>
<thead>
<tr>
<th>方法声明</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>int getMaxAge()</td>
<td>返回cookie的最长使用期限（以秒为单位）</td>
</tr>
<tr>
<td>void setMaxAge(int expiry)</td>
<td>设置cookie的最长保留时间（秒）</td>
</tr>
</tbody></table>
<p><strong>setMaxAge中的形参设置</strong> : 0 表示立即删除  ，正数表示多少秒后删除，负数表示关闭浏览器就删除。</p>
<h4 id="Cookie的路径问题"><a href="#Cookie的路径问题" class="headerlink" title="Cookie的路径问题"></a>Cookie的路径问题</h4><ul>
<li>浏览器在访问服务器时，会比较Cookie的路径与请求路径是否匹配，只有匹配的Cookie才会发送 给服务器。 </li>
<li>Cookie的默认路径等于添加这个Cookie信息时的组件路径，例如：/项目名/目录/add 请求添加 了一个Cookie信息，则该Cookie的路径是 /项目名/目录。</li>
<li>访问的请求地址必须符合Cookie的路径或者其子路径时，浏览器才会发送Cookie信息。</li>
</ul>
<table>
<thead>
<tr>
<th>方法声明</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>void setPath(String uri)</td>
<td>设置cookie的路径信息</td>
</tr>
</tbody></table>
<h4 id="Cookie的特点"><a href="#Cookie的特点" class="headerlink" title="Cookie的特点"></a>Cookie的特点</h4><ul>
<li>将状态数据保存在浏览器端，不安全。 </li>
<li>保存数据量有限制，大约4KB左右。 </li>
<li>只能保存字符串信息。 </li>
<li>可以通过浏览器设置为禁止使用。</li>
</ul>
<h3 id="session技术"><a href="#session技术" class="headerlink" title="session技术"></a>session技术</h3><p><strong>基本概念</strong></p>
<ul>
<li>Session本意为”会话”的含义，是用来维护一个客户端和服务器关联的一种技术。 </li>
<li>浏览器访问服务器时，服务器会为每一个浏览器都在服务器端的内存中分配一个空间，用于创建一 个Session对象，该对象有一个id属性且该值唯一，我们称为SessionId，并且服务器会将这个 SessionId以Cookie方式发送给浏览器存储。 </li>
<li>浏览器再次访问服务器时会将SessionId发送给服务器，服务器可以依据SessionId查找相对应的 Session对象</li>
</ul>
<h4 id="基本使用-1"><a href="#基本使用-1" class="headerlink" title="基本使用"></a>基本使用</h4><p><strong>request请求中获取session</strong></p>
<table>
<thead>
<tr>
<th>request中的方法</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>HttpSession getSession()</td>
<td>返回此请求关联的当前Session，若此请求没有则创建一个</td>
</tr>
</tbody></table>
<p><strong>HttpSession接口中常用方法</strong></p>
<table>
<thead>
<tr>
<th>方法声明</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>boolean isNew()</td>
<td>判断是否为新创建的Session</td>
</tr>
<tr>
<td>String getId()</td>
<td>获取Session的编号</td>
</tr>
<tr>
<td>Object getAttribute(String name)</td>
<td>返回在此会话中用指定名称绑定的对象，如果没有对象在该名称下绑定，则返回空值</td>
</tr>
<tr>
<td>void setAttribute(String name, Object value)</td>
<td>使用指定的名称将对象绑定到此会话</td>
</tr>
<tr>
<td>void removeAttribute(String name)</td>
<td>从此会话中删除与指定名称绑定的对象</td>
</tr>
</tbody></table>
<h4 id="session的生命周期"><a href="#session的生命周期" class="headerlink" title="session的生命周期"></a>session的生命周期</h4><p>为了节省服务器内存空间资源，服务器会将空闲时间过长的Session对象自动清除掉，服务器默认 的超时限制一般是30分钟。 </p>
<table>
<thead>
<tr>
<th>方法声明</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>int getMaxInactiveInterval()</td>
<td>获取失效时间</td>
</tr>
<tr>
<td>void setMaxInactiveInterval(int interval)</td>
<td>设置失效时间</td>
</tr>
</tbody></table>
<p>也可以通过xml配置设置session过期时间</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">session-config</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">session-timeout</span>&gt;</span>30<span class="tag">&lt;/<span class="name">session-timeout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">session-config</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="session的特点"><a href="#session的特点" class="headerlink" title="session的特点"></a>session的特点</h4><ul>
<li>数据比较安全。 </li>
<li>能够保存的数据类型丰富，而Cookie只能保存字符串。 </li>
<li>能够保存更多的数据，而Cookie大约保存4KB。</li>
<li>数据保存在服务器端会占用服务器的内存空间，如果存储信息过多、用户量过大，会严重影响服务器的性能。</li>
</ul>
<h1 id="jsp"><a href="#jsp" class="headerlink" title="jsp"></a>jsp</h1><p><strong>基本概念</strong></p>
<ul>
<li>JSP是Java Server Pages的简称，跟Servlet一样可以动态生成HTML响应， JSP文件命名为 xxx.jsp。 </li>
<li>与Servlet不同，JSP文件以HTML标记为主，然后内嵌Java代码段，用于处理动态内容。</li>
</ul>
<p><strong>JSP与Servlet的关系</strong></p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/RCBNLt"><img src="https://z3.ax1x.com/2021/06/19/RCBNLt.png" alt="RCBNLt.png" style="zoom:80%;" /></a></p>
<p><strong>JSP语法结构</strong> </p>
<ul>
<li><p>声明区 </p>
</li>
<li><p>程序代码区 </p>
</li>
<li><p>表达式 </p>
</li>
<li><p>注释 </p>
</li>
<li><p>指令和动作 </p>
</li>
<li><p>内置对象</p>
</li>
</ul>
<h2 id="声明区"><a href="#声明区" class="headerlink" title="声明区"></a>声明区</h2><p>可以定义全局变量、方法、类。</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;%!</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">()</span></span>&#123;… …&#125;</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>
<h2 id="程序代码区"><a href="#程序代码区" class="headerlink" title="程序代码区"></a>程序代码区</h2><p>可以定义局部变量以及放入任何的Java程序代码</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">    <span class="keyword">int</span> j;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k=<span class="number">0</span>; k&lt;<span class="number">10</span>; k++) &#123;</span><br><span class="line">    	… …</span><br><span class="line">    &#125;</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>
<h2 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a>表达式</h2><p>可以输出一个变量或一个具体内容，但 = 后面必须是字符串变量或者可以被转换成字符串的 表达式。</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;%=“hello world”%&gt;</span><br><span class="line">&lt;%=i+<span class="number">1</span>%&gt;</span><br></pre></td></tr></table></figure>
<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--… …--&gt; HTML文件的注释，浏览器可以查看到</span><br><span class="line">&lt;%--… …--%&gt; JSP文件的注释，浏览器看不到</span><br><span class="line">&lt;%<span class="comment">//… …%&gt; Java语言中的单行注释，浏览器看不到</span></span><br><span class="line">&lt;%<span class="comment">/*… …*/</span>%&gt; Java语言中的多行注释，浏览器看不到</span><br></pre></td></tr></table></figure>
<h2 id="指令和动作"><a href="#指令和动作" class="headerlink" title="指令和动作"></a>指令和动作</h2><p><strong>指令格式</strong>   &lt;%@指令 属性=“属性值”%&gt;  指令的属性可以设定多个。 </p>
<p><strong>常用指令</strong>   page、taglib、include</p>
<h3 id="page指令"><a href="#page指令" class="headerlink" title="page指令"></a>page指令</h3><p>page指令用于导包和设置一些页面属性，常用属性如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import 导入相应的包，惟一允许在同一文档中多次出现的属性</span><br><span class="line">contentType 设置Content-Type响应报头，标明即将发送到浏览器的文档类型</span><br><span class="line">pageEncoding 设置页面的编码</span><br><span class="line">language 指定页面使用的语言,默认java</span><br><span class="line">session 控制页面是否参与HTTP会话</span><br><span class="line">errorPage 处理当前页面中抛出但未被捕获的任何异常</span><br><span class="line">isErrorPage 当前页是否可以作为其他页面的错误处理页面</span><br></pre></td></tr></table></figure>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span>%&gt;</span><br></pre></td></tr></table></figure>
<h3 id="tablib指令"><a href="#tablib指令" class="headerlink" title="tablib指令"></a>tablib指令</h3><p>taglib指令用来扩展JSP程序的标签元素，引入其他功能的标签库文件。<strong>详情下面会写道</strong></p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- prefix属性用于指定库前缀 --&gt;</span><br><span class="line">&lt;!-- uri属性用于指定库的标识 --&gt;</span><br><span class="line">&lt;%<span class="meta">@taglib</span> uri=<span class="string">&quot;tagLibary&quot;</span> prefix=<span class="string">&quot;prefix&quot;</span>%&gt;</span><br></pre></td></tr></table></figure>
<h3 id="include指令"><a href="#include指令" class="headerlink" title="include指令"></a>include指令</h3><p>include指令用于引入另一个JSP程序或HTML文件等，格式如下：</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%<span class="meta">@include</span> file=<span class="string">&quot;被包含的文件地址&quot;</span>%&gt;</span><br></pre></td></tr></table></figure>
<p>JSP引擎会在JSP文件的转换时期先把file属性设定的文件包含进来，然后开始执行转换及编译的工 作。</p>
<h3 id="jsp-include动作"><a href="#jsp-include动作" class="headerlink" title="jsp:include动作"></a>jsp:include动作</h3><ul>
<li>jsp:include动作用于引入另一个JSP程序或HTML文件等。 </li>
<li>执行到include时，被include的文件才会被编译。 </li>
<li>如果include的是jsp文件，那它不会被转换成Servlet文件。</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;jsp:include page=“URLSpec” flush=“<span class="keyword">true</span>”/&gt;</span><br><span class="line">&lt;jsp:include page=“URLSpec” flush=“<span class="keyword">true</span>”&gt;</span><br><span class="line">&lt;jsp:param name=“key” value=“value”/&gt;</span><br><span class="line">&lt;/jsp:include&gt;</span><br></pre></td></tr></table></figure>
<p><strong>include指令和include动作的区别</strong> </p>
<ul>
<li>include指令是在JSP程序的转换时期就将file属性所指定的程序内容嵌入再编译执行（静态包 含）。 </li>
<li>include动作在转换时期是不会被编译的，只有在客户端请求时期被执行到才会被动态的编译载入 （动态包含，推荐）。</li>
</ul>
<h3 id="jsp-forward动作"><a href="#jsp-forward动作" class="headerlink" title="jsp:forward动作"></a>jsp:forward动作</h3><p>forward动作用于在JSP中实现转发，将请求转发到另一个指定的JSP程序或者Servlet中处理</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;jsp:forward page=“urlSpec” flush=“<span class="keyword">true</span>”/&gt;</span><br><span class="line">&lt;jsp:forward page=“urlSpec”&gt;</span><br><span class="line">    &lt;!-- 用于指定参数和其对应的值 --&gt;</span><br><span class="line">    &lt;jsp:param name=“key” value=“value”/&gt;</span><br><span class="line">&lt;/jsp:forward&gt;</span><br></pre></td></tr></table></figure>
<h2 id="JSP内置对象"><a href="#JSP内置对象" class="headerlink" title="JSP内置对象"></a>JSP内置对象</h2><p><strong>基本概念</strong> </p>
<ul>
<li>在JSP程序中有9个内置对象由容器为用户进行实例化，程序员可以不用定义就直接使用这些变量。 </li>
<li>在JSP转换成Servlet后，会自动追加这些变量的定义，使用内置对象可以简化JSP的开发。</li>
<li>内置对象的方法就是Servlet中对应类的使用</li>
</ul>
<table>
<thead>
<tr>
<th>对象变量</th>
<th>对象类型</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>out</td>
<td>JSPWriter</td>
<td>输出流</td>
</tr>
<tr>
<td>request</td>
<td>HttpServletRequest</td>
<td>请求信息</td>
</tr>
<tr>
<td>response</td>
<td>HttpServletResponse</td>
<td>响应信息</td>
</tr>
<tr>
<td>session</td>
<td>HttpSession</td>
<td>会话</td>
</tr>
<tr>
<td>application</td>
<td>ServletContext</td>
<td>全局的上下文对象</td>
</tr>
<tr>
<td>pageContext</td>
<td>PageContext</td>
<td>JSP页面上下文</td>
</tr>
<tr>
<td>page</td>
<td>Object</td>
<td>JSP页面本身</td>
</tr>
<tr>
<td>config</td>
<td>ServletConfig</td>
<td>Servlet配置对象</td>
</tr>
<tr>
<td>exception</td>
<td>Throwable</td>
<td>捕获网页异常</td>
</tr>
</tbody></table>
<h3 id="out内置对象"><a href="#out内置对象" class="headerlink" title="out内置对象"></a>out内置对象</h3><p>out内置对象是一个缓冲的输出流，用来给客户端输出信息</p>
<table>
<thead>
<tr>
<th>方法声明</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>void println(String x)</td>
<td>向客户端输出各种类型数据</td>
</tr>
<tr>
<td>void newLine()</td>
<td>输出一个换行符</td>
</tr>
<tr>
<td>void close()</td>
<td>关闭输出流</td>
</tr>
<tr>
<td>int getBufferSize()</td>
<td>返回缓冲区的大小</td>
</tr>
<tr>
<td>int getRemaining()</td>
<td>返回缓冲区中未使用的字节数</td>
</tr>
<tr>
<td>void flush()</td>
<td>输出缓冲区里的数据</td>
</tr>
<tr>
<td>void clearBuffer()</td>
<td>清除缓冲区里的数据，同时把数据输出到客户端</td>
</tr>
<tr>
<td>void clear()</td>
<td>清除缓冲区里的数据，但不把数据输出到客户端</td>
</tr>
</tbody></table>
<h3 id="pageContext内置对象"><a href="#pageContext内置对象" class="headerlink" title="pageContext内置对象"></a>pageContext内置对象</h3><p>pageContext对象是PageContext类型的对象，可以使用这个对象来管理其他的隐含对象。 只在一个页面中保存数据。</p>
<table>
<thead>
<tr>
<th>方法声明</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>void setAttribute(String name, Object value,int scope)</td>
<td>使用适当的作用域设置指定的名称和值</td>
</tr>
<tr>
<td>Object getAttribute(String name, int scope)</td>
<td>返回指定作用域中名称关联的对象，若找不到则返回null</td>
</tr>
<tr>
<td>ServletRequest getRequest()</td>
<td>获取请求对象</td>
</tr>
<tr>
<td>ServletResponse getResponse()</td>
<td>获取响应对象</td>
</tr>
<tr>
<td>HttpSession getSession()</td>
<td>获取会话对象</td>
</tr>
<tr>
<td>ServletConfig getServletConfig()</td>
<td>获取配置对象</td>
</tr>
<tr>
<td>JspWriter getOut()</td>
<td>获取输出对象</td>
</tr>
<tr>
<td>Object getPage()</td>
<td>获取页面对象</td>
</tr>
<tr>
<td>Exception getException()</td>
<td>获取异常对象</td>
</tr>
</tbody></table>
<h3 id="exception内置对象"><a href="#exception内置对象" class="headerlink" title="exception内置对象"></a>exception内置对象</h3><p>exception 对象是Throwable的实例，表示的是JSP的异常信息。</p>
<p>如果要使用它，必须将对应异常页面page指令的isErrorPage属性设置成true。</p>
<ul>
<li>单页处理方法</li>
</ul>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%<span class="meta">@page</span> errorPage=<span class="string">&quot;error.jsp&quot;</span> %&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>在web.xml中配置统一的异常处理页面。</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">error-page</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">exception-type</span>&gt;</span>java.lang.Throwable<span class="tag">&lt;/<span class="name">exception-type</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">location</span>&gt;</span>/error.jsp<span class="tag">&lt;/<span class="name">location</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">error-page</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="javaBean组件"><a href="#javaBean组件" class="headerlink" title="javaBean组件"></a>javaBean组件</h2><p>JavaBean 是使用 Java 语言开发的一个可重用的组件，在 JSP 开发中可以使用 JavaBean 减少重复 代码，使整个 JSP 代码的开发更加简洁。</p>
<p><strong>使用方式</strong></p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--创建一个JavaBean对象，scope表示范围--%&gt;</span><br><span class="line">&lt;jsp:useBean id=&quot;user&quot; scope=&quot;session&quot; class=&quot;com.hui.User&quot;&gt;&lt;/jsp:useBean&gt;</span><br><span class="line">&lt;%--set，如果是从前端获取的数据则可以使用param属性而不是value属性 --%&gt;</span><br><span class="line">&lt;jsp:setProperty name=&quot;user&quot; property=&quot;name&quot; value=&quot;怪狗狗&quot;&gt;&lt;/jsp:setProperty&gt;</span><br><span class="line">&lt;jsp:setProperty name=&quot;user&quot; property=&quot;age&quot; value=&quot;13&quot;&gt;&lt;/jsp:setProperty&gt;</span><br><span class="line">&lt;%--get--%&gt;</span><br><span class="line">姓名 : &lt;jsp:getProperty name=<span class="string">&quot;user&quot;</span> property=<span class="string">&quot;name&quot;</span>/&gt; &lt;br&gt;</span><br><span class="line">年龄 : &lt;jsp:getProperty name=<span class="string">&quot;user&quot;</span> property=<span class="string">&quot;age&quot;</span>/&gt;</span><br></pre></td></tr></table></figure>
<p>JavaBean的保存范围scope有page、request、session以及application，默认是page范围。</p>
<p><strong>删除方式</strong></p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">	内置对象.removeAttribute(“JavaBean的名字”);</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>
<h2 id="MVC设计模式"><a href="#MVC设计模式" class="headerlink" title="MVC设计模式"></a>MVC设计模式</h2><p><strong>基本概念</strong></p>
<ul>
<li>MVC是模型(Model)和视图(View)以及控制器(Controller)的简写，是一种将数据、界面显示和业务 逻辑进行分离的组织方式，这样在改进界面及用户交互时，不需要重新编写业务逻辑，从而提高了 代码的可维护性。 <ul>
<li>M：主要用于封装业务数据的JavaBean(Bean) 和 业务逻辑的JavaBean(Service)及访问数据库的 DAO对象。 </li>
<li>V：主要负责数据收集 和 数据展现，通常由JSP文件完成。 </li>
<li>C：主要负责流程控制 和 页面跳转，通常由Servlet完成。</li>
</ul>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/RChX7Q"><img src="https://z3.ax1x.com/2021/06/19/RChX7Q.png" alt="RChX7Q.png"></a></p>
<h1 id="EL和JSTL核心技术"><a href="#EL和JSTL核心技术" class="headerlink" title="EL和JSTL核心技术"></a>EL和JSTL核心技术</h1><h2 id="EL表达式"><a href="#EL表达式" class="headerlink" title="EL表达式"></a>EL表达式</h2><p>EL（Expression Language）表达式提供了在JSP中简化表达式的方法，可以方便地访问各种数据 并输出。</p>
<h3 id="主要功能"><a href="#主要功能" class="headerlink" title="主要功能"></a>主要功能</h3><ul>
<li>依次访问pageContext、request、session和application作用域对象存储的数据。如需获取指定作用域数据则使用  xxxScope.xxx </li>
</ul>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">原来的访问request中的属性:&lt;%=request.getAttribute(<span class="string">&quot;varName&quot;</span>)%&gt;</span><br><span class="line">用EL实现: $&#123; varName &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>获取请求参数值。</li>
</ul>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">在EL之前使用下列方式访问请求参数的数据</span><br><span class="line">request.getParameter(name);</span><br><span class="line">request.getParameterValues(hobby);</span><br><span class="line">在EL中使用下列方式访问请求参数的数据</span><br><span class="line">&lt;!-- 获取指定参数的数值 --&gt;</span><br><span class="line">$&#123;param.name&#125;</span><br><span class="line">&lt;!-- 获取指定参数中指定下标的数值 --&gt;</span><br><span class="line">$&#123;paramValues.hobby[<span class="number">0</span>]&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>访问Bean对象的属性。 </li>
</ul>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">方式一: $&#123;user.name&#125;  </span><br><span class="line">方式二: $&#123;user[<span class="string">&quot;name&quot;</span>]&#125;</span><br><span class="line">当要存取的属性名中包含一些特殊字符，如： . 或 ,等并非字母或数字的符号，就一定要使用第二种方式</span><br><span class="line">使用第二种的方式可以动态取值，如获取request等作用域对象存储的数据，不用加双引号</span><br></pre></td></tr></table></figure>
<ul>
<li>访问集合中的数据。</li>
</ul>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- student为ArrayList类型的对象 --&gt;</span><br><span class="line">$&#123;student[<span class="number">0</span>].name&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>输出简单的运算结果。</li>
</ul>
<h3 id="常用的内置对象"><a href="#常用的内置对象" class="headerlink" title="常用的内置对象"></a>常用的内置对象</h3><table>
<thead>
<tr>
<th>类别</th>
<th>标识符</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>JSP</td>
<td>pageContext</td>
<td>PageContext 处理当前页面</td>
</tr>
<tr>
<td>作用域</td>
<td>pageScope</td>
<td>同页面作用域属性名称和值有关的Map类</td>
</tr>
<tr>
<td></td>
<td>requestScope</td>
<td>同请求作用域属性的名称和值有关的Map类</td>
</tr>
<tr>
<td></td>
<td>sessionScope</td>
<td>同会话作用域属性的名称和值有关的Map类</td>
</tr>
<tr>
<td></td>
<td>applicationScope</td>
<td>同应用程序作用域属性的名称和值有关的Map类</td>
</tr>
<tr>
<td>请求参数</td>
<td>param</td>
<td>根据名称存储请求参数的值的Map类</td>
</tr>
<tr>
<td></td>
<td>paramValues</td>
<td>把请求参数的所有值作为一个String数组来存储的Map类</td>
</tr>
<tr>
<td>请求头</td>
<td>header</td>
<td>根据名称存储请求头主要值的Map类</td>
</tr>
<tr>
<td></td>
<td>headerValues</td>
<td>把请求头的所有值作为一个String数组来存储的Map类</td>
</tr>
<tr>
<td></td>
<td>Cookie cookie</td>
<td>根据名称存储请求附带的cookie的Map类</td>
</tr>
<tr>
<td>初始化参数</td>
<td>initParam</td>
<td>根据名称存储Web应用程序上下文初始化参数的Map类</td>
</tr>
</tbody></table>
<h3 id="常用的运算符"><a href="#常用的运算符" class="headerlink" title="常用的运算符"></a>常用的运算符</h3><p><strong>算数运算符</strong></p>
<p>+    -       *      / 或 div      % 或 mod         这里的除会保留小数</p>
<p><strong>关系运算符</strong></p>
<p>==       &gt;     &gt;=        &lt;        &lt;=     !=</p>
<p><strong>逻辑运算符</strong></p>
<p>&amp;&amp; 或 and      || 或or       ! 或not </p>
<p><strong>条件运算符</strong></p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$&#123;条件表达式? 语句<span class="number">1</span> : 语句<span class="number">2</span>&#125;  就是三目运算符</span><br></pre></td></tr></table></figure>
<p><strong>验证运算符</strong></p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$&#123;empty 表达式&#125;</span><br><span class="line">返回布尔值,判断表达式是否为<span class="string">&quot;空&quot;</span>值，<span class="keyword">null</span>值、无元素的集合或数组、长度为零的String的值。</span><br></pre></td></tr></table></figure>
<h2 id="JSTL标签"><a href="#JSTL标签" class="headerlink" title="JSTL标签"></a>JSTL标签</h2><p><strong>基本概念</strong></p>
<ul>
<li>JSTL( JSP Standard Tag Library ) 被称为JSP标准标签库。 </li>
<li>开发人员可以利用这些标签取代JSP页面上的Java代码，从而提高程序的可读性，降低程序的维护 难度。</li>
</ul>
<p>下载JSTL的jar包并添加到项目中，下载地址为：<a target="_blank" rel="noopener" href="https://tomcat.apache.org/download-taglibs.cgi">https://tomcat.apache.org/download-taglibs.cgi</a></p>
<h3 id="核心标签"><a href="#核心标签" class="headerlink" title="核心标签"></a>核心标签</h3><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;%-- 使用taglib指令引入标签库 --%&gt;</span><br><span class="line">&lt;%@ taglib prefix=<span class="string">&quot;c&quot;</span> uri=<span class="string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> %&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>输出标签  out</li>
</ul>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;c:out value=<span class="string">&quot;hello world&quot;</span>/&gt;  </span><br></pre></td></tr></table></figure>
<ul>
<li>设置标签 set</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;%-- 相当于  &lt;% pageContext.setAttrivute(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;tom&quot;</span>); %&gt;--%&gt;</span><br><span class="line">&lt;c:set var=&quot;name&quot;  value=&quot;tom&quot; scope=&quot;page&quot;&gt;&lt;/c:set&gt;</span><br><span class="line">&lt;c:out value=&quot;$&#123;name&#125;&quot;&gt;&lt;/c:out&gt; &lt;br&gt;</span><br><span class="line">&lt;%-- 创建一个实体类user，使用set对实体类进行赋值,在使用out输出user的属性 --%&gt;</span><br><span class="line">&lt;jsp:useBean id=&quot;user&quot; class=&quot;com.hui.User&quot; scope=&quot;page&quot; &gt;&lt;/jsp:useBean&gt;</span><br><span class="line">&lt;c:set target=&quot;$&#123;user&#125;&quot; property=&quot;name&quot; value=&quot;jeerry&quot;&gt;&lt;/c:set&gt;</span><br><span class="line">&lt;c:set target=&quot;$&#123;user&#125;&quot; property=&quot;age&quot; value=&quot;11&quot;&gt;&lt;/c:set&gt;</span><br><span class="line">&lt;c:out value=&quot;$&#123;user[&#x27;name&#x27;]&#125;&quot;&gt;&lt;/c:out&gt;</span><br><span class="line">&lt;c:out value=&quot;$&#123;user[&#x27;age&#x27;]&#125;&quot;&gt;&lt;/c:out&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>删除标签  remove</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;c:remove var=&quot;user&quot; scope=&quot;page&quot; &gt;&lt;/c:remove&gt;  删除pageContext作用域的user对象</span><br></pre></td></tr></table></figure>
<ul>
<li>单条件判断标签  if</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;c:set var=&quot;age&quot; value=&quot;20&quot; scope=&quot;page&quot;&gt;&lt;/c:set&gt;</span><br><span class="line">&lt;c:<span class="keyword">if</span> test=<span class="string">&quot;$&#123;age&gt;18&#125;&quot;</span>&gt;</span><br><span class="line">    &lt;h1&gt;已成年&lt;/h1&gt;</span><br><span class="line">&lt;/c:if&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>多条件判断标签  chose &gt;  when —otherwise</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;c:set var=&quot;age&quot; value=&quot;20&quot; scope=&quot;page&quot;&gt;&lt;/c:set&gt;</span><br><span class="line">&lt;c:choose&gt;</span><br><span class="line">    &lt;c:when test=<span class="string">&quot;$&#123;age&lt;18&#125;&quot;</span>&gt;</span><br><span class="line">        &lt;h1&gt;未成年!&lt;/h1&gt;</span><br><span class="line">    &lt;/c:when&gt;</span><br><span class="line">    &lt;c:otherwise&gt;</span><br><span class="line">        &lt;h1&gt;已成年&lt;/h1&gt;</span><br><span class="line">    &lt;/c:otherwise&gt;</span><br><span class="line">&lt;/c:choose&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>循环标签</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">	String[] arr = &#123;<span class="string">&quot;11&quot;</span>,<span class="string">&quot;22&quot;</span>,<span class="string">&quot;33&quot;</span>,<span class="string">&quot;44&quot;</span>,<span class="string">&quot;55&quot;</span>&#125;;</span><br><span class="line">	pageContext.setAttribute(<span class="string">&quot;arr&quot;</span>,arr);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;c:forEach <span class="keyword">var</span>=<span class="string">&quot;s&quot;</span> items=<span class="string">&quot;$&#123;arr&#125;&quot;</span> begin=<span class="string">&quot;1&quot;</span> end=<span class="string">&quot;3&quot;</span> &gt;   &lt;%--包含下标<span class="number">1</span>到<span class="number">3</span> --%&gt;</span><br><span class="line">    &lt;span&gt;$&#123;s&#125;&lt;/span&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br></pre></td></tr></table></figure>
<h3 id="函数标签"><a href="#函数标签" class="headerlink" title="函数标签"></a>函数标签</h3><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ taglib prefix=<span class="string">&quot;fn&quot;</span> uri=<span class="string">&quot;http://java.sun.com/jsp/jstl/functions&quot;</span> %&gt;</span><br></pre></td></tr></table></figure>
<p><strong>小案例</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;% pageContext.setAttribute(<span class="string">&quot;text&quot;</span>,<span class="string">&quot;Hello World&quot;</span>); %&gt;</span><br><span class="line">&lt;p&gt; $&#123;text&#125; &lt;/p&gt;</span><br><span class="line">&lt;p&gt;是否包含 world : $&#123;fn:contains(text,&quot;World&quot; )&#125;  &lt;/p&gt;</span><br><span class="line">&lt;p&gt;转大写 : $&#123;fn:toUpperCase(text)&#125; &lt;/p&gt;</span><br><span class="line">&lt;p&gt;转小写 : $&#123;fn:toLowerCase(text)&#125; &lt;/p&gt;</span><br></pre></td></tr></table></figure>
<h3 id="格式化标签"><a href="#格式化标签" class="headerlink" title="格式化标签"></a>格式化标签</h3><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ taglib prefix=<span class="string">&quot;fmt&quot;</span> uri=<span class="string">&quot;http://java.sun.com/jsp/jstl/fmt&quot;</span> %&gt;</span><br></pre></td></tr></table></figure>
<p><strong>小案例，格式化日期</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">    <span class="comment">// 获取系统时间</span></span><br><span class="line">    Date date = <span class="keyword">new</span> Date();</span><br><span class="line">    pageContext.setAttribute(<span class="string">&quot;date&quot;</span>,date);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;%--显示时间并格式化--%&gt;</span><br><span class="line">&lt;fmt:formatDate value=&quot;$&#123;date&#125;&quot; pattern=&quot;yyyy-MM-dd HH:mm:ss&quot;&gt;&lt;/fmt:formatDate&gt;</span><br></pre></td></tr></table></figure>
<h3 id="自定义标签"><a href="#自定义标签" class="headerlink" title="自定义标签"></a>自定义标签</h3><ul>
<li>编写标签类继承SimpleTagSupport类重写doTag方法或继承TagSupport类并重写doStartTag方法。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyTag</span> <span class="keyword">extends</span> <span class="title">SimpleTagSupport</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 自定义一个name属性，提供get set方法</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doTag</span><span class="params">()</span> <span class="keyword">throws</span> JspException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">// 获取输出流，向页面中输出数据</span></span><br><span class="line">        JspWriter out = <span class="keyword">this</span>.getJspContext().getOut();</span><br><span class="line">        out.println(<span class="string">&quot;自定义标签的参数为：&quot;</span> + name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>定义标签库文件（tld标签库文件）并配置标签说明文件到到WEB-INF下：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;ISO-8859-1&quot;?&gt;</span><br><span class="line">&lt;taglib xmlns&#x3D;&quot;http:&#x2F;&#x2F;java.sun.com&#x2F;xml&#x2F;ns&#x2F;javaee&quot;</span><br><span class="line">        xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">        xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;java.sun.com&#x2F;xml&#x2F;ns&#x2F;javaee http:&#x2F;&#x2F;java.sun.com&#x2F;xml&#x2F;ns&#x2F;javaee&#x2F;web-jsptaglibrary_2_1.xsd&quot;</span><br><span class="line">        version&#x3D;&quot;2.1&quot;&gt;</span><br><span class="line"></span><br><span class="line">	&lt;!-- 这里定义版本，库前缀，库的标识 --&gt;</span><br><span class="line">    &lt;tlib-version&gt;1.0&lt;&#x2F;tlib-version&gt;</span><br><span class="line">    &lt;short-name&gt;me&lt;&#x2F;short-name&gt;</span><br><span class="line">    &lt;uri&gt;http:&#x2F;&#x2F;hui.com&lt;&#x2F;uri&gt;</span><br><span class="line">    </span><br><span class="line">	&lt;!-- 这里可以编写tag标签，每一个标签都要对应一个java类 --&gt;</span><br><span class="line">    &lt;tag&gt;</span><br><span class="line">    	&lt;name&gt;myTag&lt;&#x2F;name&gt;</span><br><span class="line">    	&lt;tag-class&gt;com.hui.MyTag&lt;&#x2F;tag-class&gt;</span><br><span class="line">    	&lt;body-content&gt;empty&lt;&#x2F;body-content&gt;</span><br><span class="line">    	&lt;attribute&gt;</span><br><span class="line">            &lt;name&gt;name&lt;&#x2F;name&gt;</span><br><span class="line">            &lt;required&gt;true&lt;&#x2F;required&gt;</span><br><span class="line">    	&lt;&#x2F;attribute&gt;</span><br><span class="line">    &lt;&#x2F;tag&gt;</span><br><span class="line">&lt;&#x2F;taglib&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>在JSP中添加taglib指令引入标签库就可以使用了</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ taglib prefix&#x3D;&quot;me&quot; uri&#x3D;&quot;http:&#x2F;&#x2F;hui.com&quot; %&gt;</span><br><span class="line">&lt;!-- 使用方式与其他标签一样 --&gt;</span><br><span class="line">&lt;me:myTag name&#x3D;&quot;怪狗狗&quot;&gt;&lt;&#x2F;me:myTag&gt;</span><br></pre></td></tr></table></figure>
<h1 id="Filter过滤器"><a href="#Filter过滤器" class="headerlink" title="Filter过滤器"></a>Filter过滤器</h1><p><strong>基本概念</strong></p>
<ul>
<li>Filter本意为”过滤“的含义，是JavaWeb的三大组件之一   </li>
<li>过滤器是向 Web 应用程序的请求和响应处理添加功能的 Web 服务组件。 </li>
<li>过滤器相当于浏览器与Web资源之间的一道过滤网，在访问资源之前通过一系列的过滤器对请求 进行修改、判断以及拦截等，也可以对响应进行修改、判断以及拦截等。</li>
</ul>
<p><strong>工作方式</strong></p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/RVeA0J"><img src="https://z3.ax1x.com/2021/06/21/RVeA0J.png" alt="RVeA0J.png"></a></p>
<h2 id="创建过滤器"><a href="#创建过滤器" class="headerlink" title="创建过滤器"></a>创建过滤器</h2><ul>
<li>自定义类实现Filter接口并重写doFilter方法。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyFilter</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest request, ServletResponse response, FilterChain chain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">        <span class="comment">// 放行，写在上面的代码是对请求的数据进行过滤</span></span><br><span class="line">        chain.doFilter(request, response);</span><br><span class="line">        <span class="comment">// 写在下面的代码是对响应后进行的操作</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>在web.xml文件中配置过滤器</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>myFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.hui.MyFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--    还能配置多个参数    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>k1<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>v1<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>myFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/main.jsp<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="Filter接口"><a href="#Filter接口" class="headerlink" title="Filter接口"></a>Filter接口</h2><p>javax.servlet.Filter接口主要用于描述过滤器对象，可以对资源的请求和资源的响应操作进行筛选 操作。</p>
<table>
<thead>
<tr>
<th>方法声明</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>void init(FilterConfig filterConfig)</td>
<td>实现过滤器的初始化操作</td>
</tr>
<tr>
<td>void doFilter(ServletRequest request, ServletResponse response,FilterChain chain)</td>
<td>执行过滤操作的功能</td>
</tr>
<tr>
<td>void destroy()</td>
<td>实现过滤器的销毁操作</td>
</tr>
</tbody></table>
<p><strong>注</strong>   所有的过滤器都是在服务器启动时创建，所以init方法也是在服务器启动时调用，服务器关闭则会调用 destroy方法，每次访问过滤器都会调用doFilter方法进行过滤。</p>
<h2 id="FilterConfig接口"><a href="#FilterConfig接口" class="headerlink" title="FilterConfig接口"></a>FilterConfig接口</h2><p>javax.servlet.FilterConfig 接口主要用于描述过滤器的配置信息</p>
<table>
<thead>
<tr>
<th>方法声明</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>String getFilterName()</td>
<td>获取过滤器的名字</td>
</tr>
<tr>
<td>String getInitParameter(String name)</td>
<td>获取指定的初始化参数信息</td>
</tr>
<tr>
<td>Enumeration getInitParameterNames()</td>
<td>获取所有的初始化操作名称</td>
</tr>
<tr>
<td>ServletContext getServletContext()</td>
<td>获取ServletContext对象</td>
</tr>
</tbody></table>
<p><strong>多个过滤器的使用</strong> </p>
<p>如果有多个过滤器都满足过滤的条件，则容器依据映射 (filter-mapping) 的先后顺序来调用各个过滤器。</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/RVeyAs"><img src="https://z3.ax1x.com/2021/06/21/RVeyAs.png" alt="RVeyAs.png"></a></p>
<p><strong>过滤器优点</strong></p>
<p>实现代码的“可插拔性”，即增加或减少某个功能模块，不会影响程序的正常执行。 可以将多个相同处理逻辑的模块集中写在过滤器里面，可实现重复利用、也方便代码的维护。</p>
<h1 id="Listener监听器"><a href="#Listener监听器" class="headerlink" title="Listener监听器"></a>Listener监听器</h1><p><strong>基本概念</strong></p>
<ul>
<li>Servlet规范中定义的一种特殊的组件，用来监听Servlet容器产生的事件并进行相应的处理。 </li>
<li>容器产生的事件分类如下： <ul>
<li>生命周期相关的事件。 </li>
<li>属性状态相关的事件。 </li>
<li>存值状态相关的事件。 </li>
</ul>
</li>
<li>底层原理是采用接口回调的方式实现。</li>
</ul>
<p><strong>基本分类</strong></p>
<table>
<thead>
<tr>
<th>监听器类型</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>javax.servlet.ServletRequestListener</td>
<td>监听request作用域的创建和销毁</td>
</tr>
<tr>
<td>javax.servlet.ServletRequestAttributeListener</td>
<td>监听request作用域的属性状态变化</td>
</tr>
<tr>
<td>javax.servlet.http.HttpSessionListener</td>
<td>监听session作用域的创建和销毁</td>
</tr>
<tr>
<td>javax.servlet.http.HttpSessionAttributeListener</td>
<td>监听session作用域的属性状态变化</td>
</tr>
<tr>
<td>javax.servlet.ServletContextListener</td>
<td>监听application作用域的创建和销毁</td>
</tr>
<tr>
<td>javax.servlet.ServletContextAttributeListener</td>
<td>监听application作用域的属性状态变化</td>
</tr>
<tr>
<td>javax.servlet.http.HttpSessionBindingListener</td>
<td>监听对象与session的绑定和解除</td>
</tr>
<tr>
<td>javax.servlet.http.HttpSessionActivationListener</td>
<td>监听session数值的钝化和活化</td>
</tr>
</tbody></table>
<h2 id="基本使用-2"><a href="#基本使用-2" class="headerlink" title="基本使用"></a>基本使用</h2><ul>
<li>实现监听器接口,并重写相关方法，这里以ServletRequestListener监听器为例</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RequestListener</span> <span class="keyword">implements</span> <span class="title">ServletRequestListener</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">requestInitialized</span><span class="params">(ServletRequestEvent servletRequestEvent)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;请求初始化&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">requestDestroyed</span><span class="params">(ServletRequestEvent servletRequestEvent)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;请求销毁了&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>配置web.xml文件</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">listener</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">listener-class</span>&gt;</span>com.hui.RequestListener<span class="tag">&lt;/<span class="name">listener-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">listener</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>注</strong>   HttpSessionBindingListener与HttpSessionActivationListener两个监听器是单独写在一个实体类上的，所以不需要配置</p>
<h2 id="ServletRequestListener"><a href="#ServletRequestListener" class="headerlink" title="ServletRequestListener"></a>ServletRequestListener</h2><p>在ServletRequest创建和关闭时都会通知ServletRequestListener监听器。</p>
<table>
<thead>
<tr>
<th>方法声明</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>void requestInitialized(ServletRequestEvent sre)</td>
<td>实现ServletRequest对象的初始化</td>
</tr>
<tr>
<td>void requestDestroyed(ServletRequestEvent sre)</td>
<td>实现ServletRequest对象的销毁</td>
</tr>
</tbody></table>
<h2 id="ServletRequestAttributeListener"><a href="#ServletRequestAttributeListener" class="headerlink" title="ServletRequestAttributeListener"></a>ServletRequestAttributeListener</h2><p>向ServletRequest添加、删除或者替换一个属性的时候，将会通知 ServletRequestAttributeListener监听器。</p>
<table>
<thead>
<tr>
<th>方法声明</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>void attributeAdded(ServletRequestAttributeEvent srae)</td>
<td>增加属性时触发</td>
</tr>
<tr>
<td>void attributeReplaced(ServletRequestAttributeEvent srae)</td>
<td>修改属性时触发</td>
</tr>
<tr>
<td>void attributeRemoved(ServletRequestAttributeEvent srae)</td>
<td>删除属性时触发</td>
</tr>
</tbody></table>
<h2 id="HttpSessionListener"><a href="#HttpSessionListener" class="headerlink" title="HttpSessionListener"></a>HttpSessionListener</h2><p>当一个HttpSession刚被创建或者失效（invalidate）的时候，将会通知HttpSessionListener监听 器。</p>
<table>
<thead>
<tr>
<th>方法声明</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>void sessionCreated(HttpSessionEvent se)</td>
<td>当一个HttpSession对象被创建时会调用这个方法</td>
</tr>
<tr>
<td>void sessionDestroyed(HttpSessionEvent se)</td>
<td>当一个HttpSession超时或者调用HttpSession的invalidate()方法让它销毁时，将会调用这个方法</td>
</tr>
</tbody></table>
<h2 id="HttpSessionAttributeListener"><a href="#HttpSessionAttributeListener" class="headerlink" title="HttpSessionAttributeListener"></a>HttpSessionAttributeListener</h2><p>HttpSession中添加、删除或者替换一个属性的时候，将会通知HttpSessionAttributeListener监 听器。</p>
<table>
<thead>
<tr>
<th>方法声明</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>void attributeAdded(HttpSessionBindingEvent se)</td>
<td>当往会话中加入一个属性的时候会调用这个方法</td>
</tr>
<tr>
<td>void attributeRemoved(HttpSessionBindingEvent se)</td>
<td>当从会话中删除一个属性的时候会调用这个方法</td>
</tr>
<tr>
<td>void attributeReplaced(HttpSessionBindingEvent se)</td>
<td>当改变会话中的属性的时候会调用这个方法</td>
</tr>
</tbody></table>
<h2 id="ServletContextListener"><a href="#ServletContextListener" class="headerlink" title="ServletContextListener"></a>ServletContextListener</h2><p>在ServletContext创建和关闭时都会通知ServletContextListener监听器。</p>
<table>
<thead>
<tr>
<th>方法声明</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>void contextInitialized(ServletContextEvent sce)</td>
<td>当ServletContext创建的时候，将会调用这个方法</td>
</tr>
<tr>
<td>void contextDestroyed(ServletContextEvent sce)</td>
<td>当ServletContext销毁的时候（例如关闭应用服务器或者重新加载应用），将会调用这个方法</td>
</tr>
</tbody></table>
<h2 id="ServletContextAttributeListener"><a href="#ServletContextAttributeListener" class="headerlink" title="ServletContextAttributeListener"></a>ServletContextAttributeListener</h2><p>向ServletContext添加、删除或者替换一个属性的时候，将会通知 ServletContextAttributesListener监听器</p>
<table>
<thead>
<tr>
<th>方法声明</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>void attributeAdded(ServletContextAttributeEvent scae)</td>
<td>往ServletContext中加入一个属性的时候触发</td>
</tr>
<tr>
<td>void attributeRemoved(ServletContextAttributeEvent scae)</td>
<td>从ServletContext中删除一个属性的时候触发</td>
</tr>
<tr>
<td>void attributeReplaced(ServletContextAttributeEvent scae)</td>
<td>改变ServletContext中属性的时候触发</td>
</tr>
</tbody></table>
<h2 id="HttpSessionBindingListener"><a href="#HttpSessionBindingListener" class="headerlink" title="HttpSessionBindingListener"></a>HttpSessionBindingListener</h2><p>HttpSession中绑定和解除绑定时，将会通知HttpSessionListener监听器。</p>
<table>
<thead>
<tr>
<th>方法声明</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>void valueBound(HttpSessionBindingEvent event)</td>
<td>有对象绑定时调用该方法</td>
</tr>
<tr>
<td>void valueUnbound(HttpSessionBindingEvent event)</td>
<td>有对象解除绑定时调用该方法</td>
</tr>
</tbody></table>
<p><strong>示例</strong></p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line">	<span class="comment">// User类实现了HttpSessionBindingListener接口</span></span><br><span class="line">    User user = <span class="keyword">new</span> User(<span class="string">&quot;王二麻子&quot;</span>, <span class="string">&quot;man&quot;</span>);</span><br><span class="line">    <span class="comment">// 绑定</span></span><br><span class="line">    session.setAttribute(<span class="string">&quot;user&quot;</span>, user);</span><br><span class="line">    <span class="comment">// 解绑</span></span><br><span class="line">    session.removeAttribute(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>
<h2 id="HttpSessionActivationListener"><a href="#HttpSessionActivationListener" class="headerlink" title="HttpSessionActivationListener"></a>HttpSessionActivationListener</h2><p>当有session数值的钝化和活化操作时，将会通知HttpSessionActivationListener监听器</p>
<p><strong>钝化</strong>   关闭服务器时，将session中的实现了序列化接口的实体类保存到磁盘</p>
<p><strong>活化</strong>   开启服务器后，访问磁盘中的session数据，反序列化</p>
<table>
<thead>
<tr>
<th>方法声明</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>void sessionWillPassivate(HttpSessionEvent se)</td>
<td>有钝化操作时调用该方法</td>
</tr>
<tr>
<td>void sessionDidActivate(HttpSessionEvent se)</td>
<td>有活化操作时调用该方法</td>
</tr>
</tbody></table>
<ul>
<li>配置tomcat中的config文件夹下的context.xml文件，可以改变session保存本地磁盘的地址</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Manager</span> <span class="attr">className</span>=<span class="string">&quot;org.apache.catalina.session.PersistentManager&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">saveOnRestart</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 配置文件存放的路径信息，可以自由指定 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Store</span> <span class="attr">className</span>=<span class="string">&quot;org.apache.catalina.session.FileStore&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">directory</span>=<span class="string">&quot;C:\session&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Manager</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="实战案例"><a href="#实战案例" class="headerlink" title="实战案例"></a>实战案例</h2><p><strong>统计在线人数</strong></p>
<p><strong>java代码</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//统计人数  ,  session统计在线人数，servletContext作为全局变量保存总人数</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CountListener</span> <span class="keyword">implements</span> <span class="title">HttpSessionListener</span>, <span class="title">ServletContextListener</span> </span>&#123;</span><br><span class="line">    ServletContext servletContext = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">contextInitialized</span><span class="params">(ServletContextEvent servletContextEvent)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 初始化 servletContext</span></span><br><span class="line">        servletContext = servletContextEvent.getServletContext();</span><br><span class="line">        servletContext.setAttribute(<span class="string">&quot;count&quot;</span>, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">contextDestroyed</span><span class="params">(ServletContextEvent servletContextEvent)</span> </span>&#123;</span><br><span class="line">        servletContext = <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sessionCreated</span><span class="params">(HttpSessionEvent httpSessionEvent)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;有一个用户上线了&quot;</span>);</span><br><span class="line">        <span class="comment">// 获取总人数，+1</span></span><br><span class="line">        Integer count = (Integer) servletContext.getAttribute(<span class="string">&quot;count&quot;</span>);</span><br><span class="line">        servletContext.setAttribute(<span class="string">&quot;count&quot;</span>, ++count);</span><br><span class="line">        System.out.println(<span class="string">&quot;当前在线人数:&quot;</span> + servletContext.getAttribute(<span class="string">&quot;count&quot;</span>));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sessionDestroyed</span><span class="params">(HttpSessionEvent httpSessionEvent)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;一个用户下线&quot;</span>);</span><br><span class="line">        <span class="comment">// 获取总人数，-1</span></span><br><span class="line">        Integer count = (Integer) servletContext.getAttribute(<span class="string">&quot;count&quot;</span>);</span><br><span class="line">        servletContext.setAttribute(<span class="string">&quot;count&quot;</span>, --count);</span><br><span class="line">        System.out.println(<span class="string">&quot;当前在线人数:&quot;</span> + servletContext.getAttribute(<span class="string">&quot;count&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>web.xml配置</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">listener</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">listener-class</span>&gt;</span>com.hui.CountListener<span class="tag">&lt;/<span class="name">listener-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">listener</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>jsp页面</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;title&gt;统计人数&lt;/title&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;h1&gt;</span><br><span class="line">            当前访问人数 $&#123;applicationScope.count&#125;</span><br><span class="line">        &lt;/h1&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h1 id="通用Servlet"><a href="#通用Servlet" class="headerlink" title="通用Servlet"></a>通用Servlet</h1><h2 id="基本思路"><a href="#基本思路" class="headerlink" title="基本思路"></a>基本思路</h2><p>之前一个Servlet只对应一个功能，这样编码太麻烦，没必要这样细分。我们可以让一个Servlet对应一个模块的功能。</p>
<p>让前端传递 一个参数  <strong>methodName = xxx</strong>  ，这样可以判断当前要调用哪个方法。再调用相应的方法时，将request与response传递过去。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BaseServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        String method = req.getParameter(<span class="string">&quot;methodName&quot;</span>);</span><br><span class="line">        <span class="comment">// 通过前端传递的参数，调用相应的方法</span></span><br><span class="line">  		<span class="keyword">if</span> (<span class="string">&quot;delete&quot;</span>.equals(method)) &#123;</span><br><span class="line">            delete(req, resp);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">&quot;update&quot;</span>.equals(method)) &#123;</span><br><span class="line">            update(req, resp);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">&quot;add&quot;</span>.equals(method)) &#123;</span><br><span class="line">            add(req, resp);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;没有该方法!!!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// methodName 相对应的功能</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span></span>&#123; System.out.println(<span class="string">&quot;删除。。。&quot;</span>);&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span></span>&#123; System.out.println(<span class="string">&quot;修改。。。&quot;</span>);&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span></span>&#123; System.out.println(<span class="string">&quot;添加。。。&quot;</span>);&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="代码优化"><a href="#代码优化" class="headerlink" title="代码优化"></a>代码优化</h2><p>上面的全是通过  if..else..  判断，比较的low。我们可以使用反射去对代码进行优化, 提升代码的可维护性/可扩展性.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;    </span><br><span class="line">    String methodName = req.getParameter(<span class="string">&quot;methodName&quot;</span>);</span><br><span class="line">    <span class="comment">// 通过前端传递的参数，调用相应的方法    </span></span><br><span class="line">    <span class="keyword">if</span>(methodName!=<span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="comment">// 通过反射优化代码</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 通过方法名与参数获取相关方法对象</span></span><br><span class="line">            Method method = <span class="keyword">this</span>.getClass().getMethod(methodName, HttpServletRequest.class, HttpServletResponse.class);</span><br><span class="line">            <span class="comment">// 调用方法</span></span><br><span class="line">            method.invoke(<span class="keyword">this</span>,req,resp);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            System.out.println(<span class="string">&quot;没有该方法！！！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="BaseServlet类"><a href="#BaseServlet类" class="headerlink" title="BaseServlet类"></a>BaseServlet类</h2><p>当前代码依然存在问题，每个Servlet都需要写一份相同的反射代码</p>
<p><strong>解决方案</strong>: 将反射相关的代码抽取到一个 <strong>BaseServlet类</strong>  中, 让BaseServlet去继承HTTPServlet，其他的Servlet基础BaseServelt。</p>
<p>这样其他的Servlet可以不用重写 doPost() 与 doGet() 方法，直接写自己的功能即可。</p>
<p><strong>注意</strong>  其他Servelt中的方法要加形参  request 与 response</p>
<p><strong>BaseServlet类</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BaseServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        String methodName = req.getParameter(<span class="string">&quot;methodName&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(methodName!=<span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="comment">// 通过反射优化代码</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">// 通过方法名与获取相关方法</span></span><br><span class="line">                Method method = <span class="keyword">this</span>.getClass().getMethod(methodName, HttpServletRequest.class, HttpServletResponse.class);</span><br><span class="line">                <span class="comment">// 调用方法</span></span><br><span class="line">                method.invoke(<span class="keyword">this</span>,req,resp);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">                System.out.println(<span class="string">&quot;没有该方法！！！&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="处理JSON请求数据"><a href="#处理JSON请求数据" class="headerlink" title="处理JSON请求数据"></a>处理JSON请求数据</h2><p>POST 请求方法常用的三种数据提交格式</p>
<table>
<thead>
<tr>
<th>格式</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>Content-Type : application/x-www-formurlencoded</td>
<td>请求体中的数据会以普通表单形式（键值对）发送到后端。</td>
</tr>
<tr>
<td>Content-Type : application/json ; charset=utf-8</td>
<td>请求体中的数据会以json字符串的形式发送到后端。</td>
</tr>
<tr>
<td>Content-Type : multipart/form-data</td>
<td>多部件上传既可以上传键值对 也可以上传文件。</td>
</tr>
</tbody></table>
<p><strong>注意</strong>   第二种JSON格式与第三种多部件上传,使用 getParameter() 方法都无法获取数据</p>
<p>第三种多部件上传下面文件上传会介绍，这里解决第二种JSON格式, 我们需要修改  BaseServlet类</p>
<p><strong>在BaseServlet类 中创建一个方法,用来获取JSON格式的数据</strong></p>
<p>如果请求参数是JSON格式的数, 我们可以通过 request.getReader() 这个方法,获取一个流对象来进行 读取.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">   * POST请求格式为 application/json;charset=utf-8</span></span><br><span class="line"><span class="comment">   * 在这个方法中我们使用流的方式,获取到POST请求的数据</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getPostJSON</span><span class="params">(HttpServletRequest req)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">          <span class="comment">// 保存JSON数据</span></span><br><span class="line">          StringBuffer sb = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">          <span class="comment">// 获取 BufferedReader 流</span></span><br><span class="line">          BufferedReader reader = req.getReader();</span><br><span class="line">          <span class="comment">// 读取流中的数据，保存到 sb 中</span></span><br><span class="line">          String temp = <span class="keyword">null</span>;</span><br><span class="line">          <span class="keyword">while</span> ((temp = reader.readLine()) != <span class="keyword">null</span>) &#123;</span><br><span class="line">              sb.append(temp);</span><br><span class="line">          &#125;</span><br><span class="line">          reader.close();</span><br><span class="line">          <span class="keyword">return</span> sb.toString();</span><br><span class="line">      &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">          e.printStackTrace();</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p><strong>修改BaseServlet中的doGet方法</strong></p>
<p>1.获取POST请求的 Content-Type类型 </p>
<p>2.判断传递的数据是不是JSON格式 </p>
<p>3.如果是 JSON格式</p>
<p>​    就调用上面编写的 getPostJSON方法,获取数据 ,将获取到的JSON格式的字符串转换为 Map </p>
<p>​    从Map中获取要调用的方法名 </p>
<p>​    将Map保存到request域对象中 (流只能使用一次)</p>
<p>4.如果不是JSON格式，就按照原来的方法     req.getParameter(“methodName”);</p>
<p>5.继续执行之前的代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">      String methodName = <span class="keyword">null</span>;</span><br><span class="line">      <span class="comment">// 获取数据提交格式</span></span><br><span class="line">      String ContentType = req.getHeader(<span class="string">&quot;Content-Type&quot;</span>);</span><br><span class="line">      <span class="comment">// 如果数据是 JSON 的格式，需要解析</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="string">&quot;application/json;charset=utf-8&quot;</span>.equalsIgnoreCase(ContentType)) &#123;</span><br><span class="line"></span><br><span class="line">          String JsonDate = getPostJSON(req);</span><br><span class="line">          <span class="comment">// 将 JSON 字符串转换成 map 类型</span></span><br><span class="line">          Map&lt;String, Object&gt; map = JSON.parseObject(JsonDate, Map.class);</span><br><span class="line">          <span class="comment">// 获取请求的 功能</span></span><br><span class="line">          methodName = (String) map.get(<span class="string">&quot;methodName&quot;</span>);</span><br><span class="line">          <span class="comment">// 将其他的数据保存到 request域 中</span></span><br><span class="line">          req.setAttribute(<span class="string">&quot;map&quot;</span>, map);</span><br><span class="line"></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123; <span class="comment">// 普通模式,可以直接获取</span></span><br><span class="line">          methodName = req.getParameter(<span class="string">&quot;methodName&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (methodName != <span class="keyword">null</span>) &#123;</span><br><span class="line">          <span class="comment">// 通过反射优化代码</span></span><br><span class="line">          <span class="keyword">try</span> &#123;</span><br><span class="line">              <span class="comment">// 通过方法名与获取相关方法</span></span><br><span class="line">              Method method = <span class="keyword">this</span>.getClass().getMethod(methodName, HttpServletRequest.class, HttpServletResponse.class);</span><br><span class="line">              <span class="comment">// 调用方法</span></span><br><span class="line">              method.invoke(<span class="keyword">this</span>, req, resp);</span><br><span class="line">          &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">              e.printStackTrace();</span><br><span class="line">              System.out.println(<span class="string">&quot;没有该方法！！！&quot;</span>);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>








<h1 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h1><p><a target="_blank" rel="noopener" href="https://imgtu.com/i/WZh2QI"><img src="https://z3.ax1x.com/2021/07/14/WZh2QI.jpg" alt="WZh2QI.jpg"></a></p>
<p><strong>JSON的特点</strong></p>
<ul>
<li>JSON 是一种轻量级的数据交换格式。</li>
<li>JSON采用完全独立于语言的文本格式，就是说不同的编程语言JSON数据是一致的。</li>
<li>JSON易于人阅读和编写，同时也易于机器解析和生成(一般用于提升网络传输速率)。</li>
</ul>
<p>目前, 前后端的ajax通讯几乎用的都是json格式的了,所以在开发的过程中,我们经常会涉及到JSON数据的转换</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/W9QnaD"><img src="https://z3.ax1x.com/2021/07/11/W9QnaD.jpg" alt="W9QnaD.jpg"></a></p>
<h2 id="XML与JSON的区别"><a href="#XML与JSON的区别" class="headerlink" title="XML与JSON的区别"></a>XML与JSON的区别</h2><ul>
<li><p>XML : 可扩展标记语言，是一种用于标记电子文件使其具有结构性的标记语言。 </p>
</li>
<li><p>JSON:  (JavaScript Object Notation, JS 对象简谱) 是一种轻量级的数据交换格式。</p>
</li>
<li><p>相同点:  </p>
<ul>
<li>它们都可以作为一种数据交换格式。</li>
</ul>
</li>
<li><p>二者区别:</p>
<ul>
<li><p>XML是重量级的，JSON是轻量级的,XML在传输过程中比较占带宽，JSON占带宽少，易于压缩。</p>
</li>
<li><p>XML和json都用在项目交互下，XML多用于做配置文件，JSON用于数据交互</p>
</li>
<li><p>JSON独立于编程语言存在,任何编程语言都可以去解析json</p>
</li>
</ul>
</li>
</ul>
<h2 id="JSON语法格式"><a href="#JSON语法格式" class="headerlink" title="JSON语法格式"></a>JSON语法格式</h2><p>用{} 包裹，用 逗号分隔数据，每个数据采用键值对的方式，键一定要用双引号引起，值如果是数字，可以不用双引号</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 对象格式</span><br><span class="line">&#123;&quot;name&quot;:&quot;tom&quot;,&quot;sex&quot;:&quot;女&quot;, &quot;age&quot;:12&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 集合格式</span><br><span class="line">&#123;&quot;person&quot;:[&#123;&quot;name&quot;:&quot;tom&quot;,&quot;sex&quot;:&quot;女&quot;, &quot;age&quot;:12&#125;,&#123;&quot;name&quot;:&quot;jack&quot;,&quot;sex&quot;:&quot;男&quot;, &quot;age&quot;:22&#125;]&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 数组格式</span><br><span class="line">[&#123;&quot;name&quot;:&quot;老五&quot;,&quot;sex&quot;:&quot;女&quot;, &quot;age&quot;:12&#125;,&#123;&quot;name&quot;:&quot;会长&quot;,&quot;sex&quot;:&quot;男&quot;, &quot;age&quot;:12&#125;]</span><br></pre></td></tr></table></figure>
<h2 id="FastJson"><a href="#FastJson" class="headerlink" title="FastJson"></a>FastJson</h2><ul>
<li>Fastjson 是一个 Java 库，可以将 Java 对象转换为 JSON 格式，当然它也可以将 JSON 字符串转换为 Java 对象。</li>
<li>FastJson特点如下：<ul>
<li> 能够支持将java bean序列化成JSON字符串，也能够将JSON字符串反序列化成Java bean。</li>
<li> 顾名思义，FastJson操作JSON的速度是非常快的。</li>
<li> 无其他包的依赖, 使用比较方便。</li>
</ul>
</li>
</ul>
<p><strong>基本使用</strong></p>
<ul>
<li>引入依赖</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>fastjson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.colobu<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>fastjson-jaxrs-json-provider<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>常用方法</li>
</ul>
<table>
<thead>
<tr>
<th>方法声明</th>
<th>使用说明</th>
</tr>
</thead>
<tbody><tr>
<td>JSON.toJSONString(Object obj)</td>
<td>将Java对象转换为JSON字符串格式</td>
</tr>
<tr>
<td>JSON.parseObject(String jsonString [, Class&lt;T&gt; class] )</td>
<td>将JSON字符串转换为Java对象，注意反序列化时为对象时，必须要有默认无参的构造函数，否则会报异常。 可在后面加class的泛型，指定要转换的类型。</td>
</tr>
<tr>
<td>JSON.parseArray(String jsonString)</td>
<td>将JSON字符串转换为集合对象</td>
</tr>
</tbody></table>
<p>使用 JSON.toJSONString(Object obj) ，可以传递一个SimplePropertyPreFilter对象，指定需要格式化的字段</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 将course对象JSON格式化,如果只要 id 与 name 字段</span></span><br><span class="line">SimplePropertyPreFilter filter = <span class="keyword">new</span> SimplePropertyPreFilter(Course.class, <span class="string">&quot;id&quot;</span>, <span class="string">&quot;course_name&quot;</span>);</span><br><span class="line">String res = JSON.toJSONString(course, filter);</span><br></pre></td></tr></table></figure>
<ul>
<li><p>Fastjson中的 <strong>@JSONField</strong> 注解</p>
<p>通过 <strong>@JSONField</strong> 我们可以自定义字段的名称进行输出，并控制字段的排序，还可以进行序列化标记。 </p>
<ul>
<li>name属性, 指定JSON格式化后的字段的名称 </li>
<li>ordinal属性, 指定字段的顺序</li>
<li>serialize属性, 指定字段不序列化</li>
</ul>
</li>
</ul>
<p>也可以通过  <strong>new JSONObject()</strong>  直接创建 JSON 对象，使用 <strong>jsonObject.put()</strong> 经行赋值</p>
<h1 id="BeanUtil工具类"><a href="#BeanUtil工具类" class="headerlink" title="BeanUtil工具类"></a>BeanUtil工具类</h1><p>BeanUtils 是 Apache commons组件的成员之一，主要用于简化JavaBean封装数据的操作。<strong>可以将一个表单提交的所有数据封装到JavaBean中</strong>。</p>
<p><strong>导入依赖</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-beanutils<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-beanutils<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.8.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>BeanUtils 对象常用方法</strong></p>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>BeanUtils.populate(Object bean, Map properties)</td>
<td>将Map数据封装到指定Javabean中，<br />一般用于将表单的所有数据封装到javabean</td>
</tr>
<tr>
<td>BeanUtils.copyProperties(Object obj1, Object obj2);</td>
<td>将参数二中的数据封装到参数一中</td>
</tr>
<tr>
<td>setProperty(Object obj,String name,Object value)</td>
<td>设置属性值</td>
</tr>
<tr>
<td>getProperty(Object obj,String name)</td>
<td>获得属性值</td>
</tr>
</tbody></table>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.创建course对象</span></span><br><span class="line">Course course = <span class="keyword">new</span> Course();</span><br><span class="line"><span class="comment">//2.创建Map</span></span><br><span class="line">Map&lt;String,Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"><span class="comment">//3.向map集合中添加数据, key要与course的属性名保持一致,value的数据类型与course的属性的类型保持一致</span></span><br><span class="line">map.put(<span class="string">&quot;id&quot;</span>,<span class="number">1</span>);</span><br><span class="line">map.put(<span class="string">&quot;course_name&quot;</span>,<span class="string">&quot;大数据&quot;</span>);</span><br><span class="line"><span class="comment">//将map中的数据封装到 course中</span></span><br><span class="line">BeanUtils.populate(course,map);</span><br></pre></td></tr></table></figure>
<h1 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h1><p>文件上传的实质：文件的拷贝</p>
<ul>
<li>文件上传：从本地将文件拷贝到服务器磁盘上 <ul>
<li>客户端:  需要编写文件上传表单</li>
<li>服务端:  需要编写代码接受上传的 文件</li>
</ul>
</li>
</ul>
<h2 id="客户端编码"><a href="#客户端编码" class="headerlink" title="客户端编码"></a>客户端编码</h2><p><strong>三要素</strong> </p>
<ul>
<li>使用表单的POST提交 (get方式提交有大小限制,post没有) </li>
<li>表单的enctype属性必须设置为   <strong>multipart/form-data.</strong>  <ul>
<li>encodetype就是编码类型的意思.</li>
<li>multipart/form-data是多部件文件上传 , 指表单数据有多部分构成，既有文本数据，又有文件等二进制数据的意思。</li>
</ul>
</li>
<li>表单必须有文件上传项: <strong>file</strong>,必须要有name属性和值 </li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;xxx&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;upload&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;文件上传&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p> 默认情况下，表单的enctype的值是application/x-www-form-urlencoded，不能用于文件上传，只有使用了multipart/form-data，才能完整的传递文件数据</p>
<h2 id="服务端编码"><a href="#服务端编码" class="headerlink" title="服务端编码"></a>服务端编码</h2><p>服务端要接收文件上传的表单数据</p>
<h3 id="基本思路-1"><a href="#基本思路-1" class="headerlink" title="基本思路"></a>基本思路</h3><h4 id="上传文件-抓包分析"><a href="#上传文件-抓包分析" class="headerlink" title="上传文件, 抓包分析"></a>上传文件, 抓包分析</h4><p>使用360浏览器进行抓包,谷歌浏览器不方便查看</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/WVD0v4"><img src="https://z3.ax1x.com/2021/07/14/WVD0v4.jpg" alt="WVD0v4.jpg"></a></p>
<p>每个input都是一个表单项，被分隔符分开,如果是文件上传项，会有filenamme属性</p>
<h4 id="服务端获上传的文件"><a href="#服务端获上传的文件" class="headerlink" title="服务端获上传的文件"></a>服务端获上传的文件</h4><ol>
<li><p>通过request获取请求体的内容</p>
</li>
<li><p>解析请求体 </p>
<p>根据分隔符将请求中所有的内容,切割成数组,数组中的每一个元素 都是一个表单项</p>
</li>
<li><p>遍历数组,分清楚那个是普通的表单项, 哪个是 文件上传项</p>
<p>如何区分? 判断是否有 filename</p>
</li>
<li><p>获取到普通表单项中的内容,通过属性name获取</p>
</li>
<li><p>获取文件上传项内容</p>
<p>文件名: filname = aaa.txt</p>
<p>文件内容: </p>
</li>
<li><p>使用IO将文件内容,保存到服务器中</p>
</li>
</ol>
<h3 id="FileUpload工具类"><a href="#FileUpload工具类" class="headerlink" title="FileUpload工具类"></a>FileUpload工具类</h3><p>FileUpload包可以很容易地将文件上传到你的Web应用程序.</p>
<p><strong>导入依赖</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-fileupload<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p> <strong>FileUpload 核心类介绍</strong></p>
<table>
<thead>
<tr>
<th>类名</th>
<th>介绍</th>
</tr>
</thead>
<tbody><tr>
<td>DiskFileItemFactory</td>
<td>磁盘文件项工厂, 读取文件时相关的配置,比如:  缓存的大小 , 临时目录的位置</td>
</tr>
<tr>
<td>ServletFileUplaod</td>
<td>文件上传的一个核心类</td>
</tr>
<tr>
<td>FileItem</td>
<td>代表每一个表单项</td>
</tr>
</tbody></table>
<p><strong>ServletFileUpload类 常用方法</strong></p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>Boolean  isMultipartContent(request);</td>
<td>判断是否是一个文件上传的表单</td>
</tr>
<tr>
<td>List  parseRequest(request);</td>
<td>解析request获得表单项的集合</td>
</tr>
<tr>
<td>void  setHeaderEncoding(“UTF-8”);</td>
<td>设置上传的文件名的编码方式</td>
</tr>
</tbody></table>
<p><strong>FIleItem类 常用方法</strong></p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>Boolean  isFormField()</td>
<td>判断是否是普通表单项</td>
</tr>
<tr>
<td>String  getFieldName()</td>
<td>获得表单的name属性值</td>
</tr>
<tr>
<td>String  getString()</td>
<td>获得表单的value值</td>
</tr>
<tr>
<td>String  getName()</td>
<td>获得上传文件的名称</td>
</tr>
<tr>
<td>InputStream  getInputStream()</td>
<td>获得上传文件的输入流</td>
</tr>
</tbody></table>
<p><strong>文件上传后台代码编写</strong></p>
<p>​    1、创建磁盘文件项工厂</p>
<p>​    2、创建文件上传的核心类</p>
<p>​    3、解析request—获得文件项集合</p>
<p>​    4、遍历文件项集合</p>
<p>​    5、判断普通表单项/文件上传项</p>
<p>​            普通表单项: 使用 getFieldName() 与  getString()  方法获取 普通表单的name属性值与value值</p>
<p>​            文件上传项: 使用getName()获取文件名称， getInputStream()获取输入流，通过IO流将文件保存到服务器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&quot;/upload&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UploadServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 创建磁盘文件项工厂</span></span><br><span class="line">            DiskFileItemFactory factory = <span class="keyword">new</span> DiskFileItemFactory();</span><br><span class="line">            <span class="comment">// 创建文件上传的核心类</span></span><br><span class="line">            ServletFileUpload upload = <span class="keyword">new</span> ServletFileUpload(factory);</span><br><span class="line">            upload.setHeaderEncoding(<span class="string">&quot;UTF-8&quot;</span>);  <span class="comment">// 设置编码</span></span><br><span class="line">            <span class="keyword">boolean</span> flag = upload.isMultipartContent(req);  <span class="comment">// 是否是一个文件上传的表单</span></span><br><span class="line">            <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">                <span class="comment">//解析request-- - 获得文件项集合</span></span><br><span class="line">                List&lt;FileItem&gt; itemList = upload.parseRequest(req);</span><br><span class="line">                <span class="comment">// 不为空，则遍历文件项集合</span></span><br><span class="line">                <span class="keyword">if</span> (itemList != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (FileItem item : itemList) &#123;</span><br><span class="line">                        <span class="keyword">boolean</span> b = item.isFormField();</span><br><span class="line">                        <span class="keyword">if</span> (b) &#123;</span><br><span class="line">                            <span class="comment">//  普通表单项</span></span><br><span class="line">                            String fieldName = item.getFieldName();   <span class="comment">// 获取表单的键</span></span><br><span class="line">                            String value = item.getString(<span class="string">&quot;UTF-8&quot;</span>);<span class="comment">// 换取表单的值</span></span><br><span class="line">                            System.out.println(fieldName + <span class="string">&quot;=&quot;</span> + value); <span class="comment">// 输出打印</span></span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            <span class="comment">// 文件上传项</span></span><br><span class="line">                            String fileName = item.getName(); <span class="comment">// 换取文件的名</span></span><br><span class="line">                            <span class="comment">// 通过UUID 换取一个新的文件名</span></span><br><span class="line">                            String newFileName = UUIDUtils.getUUID() + fileName;</span><br><span class="line">                            <span class="comment">// 获取文件的输入流</span></span><br><span class="line">                            InputStream in = item.getInputStream();</span><br><span class="line"></span><br><span class="line">                            <span class="comment">// 将文件保存到tomcat中webapp下的upload文件夹中</span></span><br><span class="line">                            <span class="comment">// 获取项目的实际路径  C:\apache-tomcat-8.5.55\webapps\lagou_edu_home</span></span><br><span class="line">                            String realPath = <span class="keyword">this</span>.getServletContext().getRealPath(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">                            <span class="comment">// 将 lagou_edu_home截取掉，获取 C:\apache-tomcat-8.5.55\webapps\</span></span><br><span class="line">                            String path = realPath.substring(<span class="number">0</span>, realPath.indexOf(<span class="string">&quot;lagou_edu_home&quot;</span>));</span><br><span class="line"></span><br><span class="line">                            <span class="comment">// 创建一个输出流，文件保存在tomcat中webapps下的upload文件中</span></span><br><span class="line">                            FileOutputStream out = <span class="keyword">new</span> FileOutputStream(path + <span class="string">&quot;/upload/&quot;</span> + newFileName);</span><br><span class="line">                            <span class="comment">// 文件传输</span></span><br><span class="line">                            in.transferTo(out);</span><br><span class="line">                            <span class="comment">// 关闭流</span></span><br><span class="line">                            out.close();</span><br><span class="line">                            in.close();</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileUploadException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="将图片上传到tomcat服务器"><a href="#将图片上传到tomcat服务器" class="headerlink" title="将图片上传到tomcat服务器"></a>将图片上传到tomcat服务器</h2><p><strong>idea中部署项目两种方式</strong></p>
<ul>
<li>war模式：将项目以war包的形式上传真实到服务器的webapps目录中；</li>
<li>war exploded模式：仅仅是目录的映射，就相当于tomcat在项目源文件夹中启动一样；</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/WVcn1K"><img src="https://z3.ax1x.com/2021/07/14/WVcn1K.jpg" alt="WVcn1K.jpg"></a></p>
<p>这里使用war模式，这样才能通过获取项目的路径，进入获取tomcat的路径，将文件保存到里面</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 将文件保存到tomcat中webapp下的upload文件夹中</span></span><br><span class="line"><span class="comment">// 获取项目的实际路径  C:\apache-tomcat-8.5.55\webapps\lagou_edu_home</span></span><br><span class="line">String realPath = <span class="keyword">this</span>.getServletContext().getRealPath(<span class="string">&quot;/&quot;</span>);</span><br><span class="line"><span class="comment">// 将 lagou_edu_home截取掉，获取 C:\apache-tomcat-8.5.55\webapps\</span></span><br><span class="line">String path = realPath.substring(<span class="number">0</span>, realPath.indexOf(<span class="string">&quot;lagou_edu_home&quot;</span>));</span><br></pre></td></tr></table></figure>
<p><strong>页面加载图片</strong></p>
<p>将tomcat作为图片服务器使用时，存储上传的图片后,如果想要图片可以访问,需要在idea中进行配置:</p>
<p>1）打开tomcat配置 —&gt;  在Deployment中添加 —&gt; 选择external source —&gt; 找到webapps目录下的的upload文件夹</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/WVg3KU"><img src="https://z3.ax1x.com/2021/07/14/WVg3KU.jpg" alt="WVg3KU.jpg"></a></p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/WVgaP1"><img src="https://z3.ax1x.com/2021/07/14/WVgaP1.jpg" alt="WVgaP1.jpg"></a></p>
<p>2）在项目内部页面加载图片</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;/upload/xxxxxx.jpg&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol start="3">
<li> 也可以通过HTTP方式访问</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;localhost:8080&#x2F;upload&#x2F;xxxxxx.jpg</span><br></pre></td></tr></table></figure>
<h1 id="跨域问题解决"><a href="#跨域问题解决" class="headerlink" title="跨域问题解决"></a>跨域问题解决</h1><p>跨域是指通过JS在不同的域之间进行数据传输或通信，比如用ajax向一个不同的域请求数据，只要协 议、域名、端口有任何一个不同，都被当作是不同的域,浏览器就不允许跨域请求。</p>
<p>前后端分离项目，前端向后端发送请求，会出现跨域问题</p>
<ul>
<li>已被CORS策略阻止：请求的资源上没有’ Access-Control-Allow-Origin’标头（跨域请求失败）</li>
</ul>
<p><strong>解决</strong></p>
<p>跨域的允许主要由服务器端控制。服务器端通过在响应的 header 中设置 Access-Control-AllowOrigin 及相关一系列参数，提供跨域访问的允许策略。</p>
<ol>
<li>在POM文件中引入依赖</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 解决跨域问题所需依赖 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.thetransactioncompany<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>cors-filter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>在web.xml中 配置跨域 filter</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--配置跨域过滤器--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>corsFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.thetransactioncompany.cors.CORSFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>corsFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>






<p>over 。。。</p>

    </div>

    
    
    
        <div class="reward-container">
  <div>感谢老铁们的支持!!!</div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    打赏
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/weChatPay.png" alt="怪狗狗 微信支付">
        <p>微信支付</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/aliPay.jpg" alt="怪狗狗 支付宝">
        <p>支付宝</p>
      </div>

  </div>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/javaWeb/" rel="tag"> javaWeb</a>
              <a href="/tags/jsp/" rel="tag"> jsp</a>
              <a href="/tags/servlet/" rel="tag"> servlet</a>
              <a href="/tags/tomcat/" rel="tag"> tomcat</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/06/13/XML%E7%AC%94%E8%AE%B0/" rel="prev" title="XML笔记">
      <i class="fa fa-chevron-left"></i> XML笔记
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/06/26/Linux%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95/" rel="next" title="Linux基本用法">
      Linux基本用法 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Tomcat"><span class="nav-number">1.</span> <span class="nav-text">Tomcat</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Servlet"><span class="nav-number">2.</span> <span class="nav-text">Servlet</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Servlet%E7%9A%84%E7%BC%96%E7%A8%8B%E6%AD%A5%E9%AA%A4"><span class="nav-number">2.1.</span> <span class="nav-text">Servlet的编程步骤</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Servlet%E9%85%8D%E7%BD%AE"><span class="nav-number">2.1.1.</span> <span class="nav-text">Servlet配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Servlet%E6%8E%A5%E5%8F%A3"><span class="nav-number">2.1.2.</span> <span class="nav-text">Servlet接口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#GenericServlet%E7%B1%BB"><span class="nav-number">2.1.3.</span> <span class="nav-text">GenericServlet类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HttpServlet%E7%B1%BB"><span class="nav-number">2.1.4.</span> <span class="nav-text">HttpServlet类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Servlet%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="nav-number">2.1.5.</span> <span class="nav-text">Servlet的生命周期</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#POST%E5%92%8CGET%E8%AF%B7%E6%B1%82"><span class="nav-number">2.2.</span> <span class="nav-text">POST和GET请求</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#GET%E8%AF%B7%E6%B1%82"><span class="nav-number">2.2.1.</span> <span class="nav-text">GET请求</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#POST%E8%AF%B7%E6%B1%82"><span class="nav-number">2.2.2.</span> <span class="nav-text">POST请求</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ServletRequest%E6%8E%A5%E5%8F%A3"><span class="nav-number">2.2.3.</span> <span class="nav-text">ServletRequest接口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HttpServletRequest%E6%8E%A5%E5%8F%A3"><span class="nav-number">2.2.4.</span> <span class="nav-text">HttpServletRequest接口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ServletResponse%E6%8E%A5%E5%8F%A3"><span class="nav-number">2.2.5.</span> <span class="nav-text">ServletResponse接口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HttpServletResponse%E6%8E%A5%E5%8F%A3"><span class="nav-number">2.2.6.</span> <span class="nav-text">HttpServletResponse接口</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Servlet%E6%8E%A5%E6%94%B6%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81"><span class="nav-number">2.3.</span> <span class="nav-text">Servlet接收中文乱码</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A5%E6%94%B6%E4%B9%B1%E7%A0%81"><span class="nav-number">2.3.1.</span> <span class="nav-text">接收乱码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%93%8D%E5%BA%94%E4%B9%B1%E7%A0%81"><span class="nav-number">2.3.2.</span> <span class="nav-text">响应乱码</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ServletConfig%E6%8E%A5%E5%8F%A3"><span class="nav-number">2.4.</span> <span class="nav-text">ServletConfig接口</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ServletContext%E6%8E%A5%E5%8F%A3"><span class="nav-number">2.5.</span> <span class="nav-text">ServletContext接口</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BD%AC%E5%8F%91%E4%B8%8E%E9%87%8D%E5%AE%9A%E5%90%91"><span class="nav-number">2.6.</span> <span class="nav-text">转发与重定向</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91"><span class="nav-number">2.6.1.</span> <span class="nav-text">重定向</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BD%AC%E5%8F%91"><span class="nav-number">2.6.2.</span> <span class="nav-text">转发</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Servlet%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8"><span class="nav-number">2.7.</span> <span class="nav-text">Servlet线程安全</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86"><span class="nav-number">2.8.</span> <span class="nav-text">状态管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#cookie%E6%8A%80%E6%9C%AF"><span class="nav-number">2.8.1.</span> <span class="nav-text">cookie技术</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="nav-number">2.8.1.1.</span> <span class="nav-text">基本使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Cookie%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="nav-number">2.8.1.2.</span> <span class="nav-text">Cookie的生命周期</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Cookie%E7%9A%84%E8%B7%AF%E5%BE%84%E9%97%AE%E9%A2%98"><span class="nav-number">2.8.1.3.</span> <span class="nav-text">Cookie的路径问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Cookie%E7%9A%84%E7%89%B9%E7%82%B9"><span class="nav-number">2.8.1.4.</span> <span class="nav-text">Cookie的特点</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#session%E6%8A%80%E6%9C%AF"><span class="nav-number">2.8.2.</span> <span class="nav-text">session技术</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8-1"><span class="nav-number">2.8.2.1.</span> <span class="nav-text">基本使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#session%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="nav-number">2.8.2.2.</span> <span class="nav-text">session的生命周期</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#session%E7%9A%84%E7%89%B9%E7%82%B9"><span class="nav-number">2.8.2.3.</span> <span class="nav-text">session的特点</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#jsp"><span class="nav-number">3.</span> <span class="nav-text">jsp</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A3%B0%E6%98%8E%E5%8C%BA"><span class="nav-number">3.1.</span> <span class="nav-text">声明区</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%A8%8B%E5%BA%8F%E4%BB%A3%E7%A0%81%E5%8C%BA"><span class="nav-number">3.2.</span> <span class="nav-text">程序代码区</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">3.3.</span> <span class="nav-text">表达式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B3%A8%E9%87%8A"><span class="nav-number">3.4.</span> <span class="nav-text">注释</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8C%87%E4%BB%A4%E5%92%8C%E5%8A%A8%E4%BD%9C"><span class="nav-number">3.5.</span> <span class="nav-text">指令和动作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#page%E6%8C%87%E4%BB%A4"><span class="nav-number">3.5.1.</span> <span class="nav-text">page指令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#tablib%E6%8C%87%E4%BB%A4"><span class="nav-number">3.5.2.</span> <span class="nav-text">tablib指令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#include%E6%8C%87%E4%BB%A4"><span class="nav-number">3.5.3.</span> <span class="nav-text">include指令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#jsp-include%E5%8A%A8%E4%BD%9C"><span class="nav-number">3.5.4.</span> <span class="nav-text">jsp:include动作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#jsp-forward%E5%8A%A8%E4%BD%9C"><span class="nav-number">3.5.5.</span> <span class="nav-text">jsp:forward动作</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JSP%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1"><span class="nav-number">3.6.</span> <span class="nav-text">JSP内置对象</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#out%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1"><span class="nav-number">3.6.1.</span> <span class="nav-text">out内置对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#pageContext%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1"><span class="nav-number">3.6.2.</span> <span class="nav-text">pageContext内置对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#exception%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1"><span class="nav-number">3.6.3.</span> <span class="nav-text">exception内置对象</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#javaBean%E7%BB%84%E4%BB%B6"><span class="nav-number">3.7.</span> <span class="nav-text">javaBean组件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MVC%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F"><span class="nav-number">3.8.</span> <span class="nav-text">MVC设计模式</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#EL%E5%92%8CJSTL%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF"><span class="nav-number">4.</span> <span class="nav-text">EL和JSTL核心技术</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#EL%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-number">4.1.</span> <span class="nav-text">EL表达式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%BB%E8%A6%81%E5%8A%9F%E8%83%BD"><span class="nav-number">4.1.1.</span> <span class="nav-text">主要功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1"><span class="nav-number">4.1.2.</span> <span class="nav-text">常用的内置对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">4.1.3.</span> <span class="nav-text">常用的运算符</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JSTL%E6%A0%87%E7%AD%BE"><span class="nav-number">4.2.</span> <span class="nav-text">JSTL标签</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83%E6%A0%87%E7%AD%BE"><span class="nav-number">4.2.1.</span> <span class="nav-text">核心标签</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E6%A0%87%E7%AD%BE"><span class="nav-number">4.2.2.</span> <span class="nav-text">函数标签</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%A0%87%E7%AD%BE"><span class="nav-number">4.2.3.</span> <span class="nav-text">格式化标签</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A0%87%E7%AD%BE"><span class="nav-number">4.2.4.</span> <span class="nav-text">自定义标签</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Filter%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="nav-number">5.</span> <span class="nav-text">Filter过滤器</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="nav-number">5.1.</span> <span class="nav-text">创建过滤器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Filter%E6%8E%A5%E5%8F%A3"><span class="nav-number">5.2.</span> <span class="nav-text">Filter接口</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#FilterConfig%E6%8E%A5%E5%8F%A3"><span class="nav-number">5.3.</span> <span class="nav-text">FilterConfig接口</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Listener%E7%9B%91%E5%90%AC%E5%99%A8"><span class="nav-number">6.</span> <span class="nav-text">Listener监听器</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8-2"><span class="nav-number">6.1.</span> <span class="nav-text">基本使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ServletRequestListener"><span class="nav-number">6.2.</span> <span class="nav-text">ServletRequestListener</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ServletRequestAttributeListener"><span class="nav-number">6.3.</span> <span class="nav-text">ServletRequestAttributeListener</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HttpSessionListener"><span class="nav-number">6.4.</span> <span class="nav-text">HttpSessionListener</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HttpSessionAttributeListener"><span class="nav-number">6.5.</span> <span class="nav-text">HttpSessionAttributeListener</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ServletContextListener"><span class="nav-number">6.6.</span> <span class="nav-text">ServletContextListener</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ServletContextAttributeListener"><span class="nav-number">6.7.</span> <span class="nav-text">ServletContextAttributeListener</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HttpSessionBindingListener"><span class="nav-number">6.8.</span> <span class="nav-text">HttpSessionBindingListener</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HttpSessionActivationListener"><span class="nav-number">6.9.</span> <span class="nav-text">HttpSessionActivationListener</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E6%88%98%E6%A1%88%E4%BE%8B"><span class="nav-number">6.10.</span> <span class="nav-text">实战案例</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%80%9A%E7%94%A8Servlet"><span class="nav-number">7.</span> <span class="nav-text">通用Servlet</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF"><span class="nav-number">7.1.</span> <span class="nav-text">基本思路</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96"><span class="nav-number">7.2.</span> <span class="nav-text">代码优化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#BaseServlet%E7%B1%BB"><span class="nav-number">7.3.</span> <span class="nav-text">BaseServlet类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%84%E7%90%86JSON%E8%AF%B7%E6%B1%82%E6%95%B0%E6%8D%AE"><span class="nav-number">7.4.</span> <span class="nav-text">处理JSON请求数据</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#JSON"><span class="nav-number">8.</span> <span class="nav-text">JSON</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#XML%E4%B8%8EJSON%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="nav-number">8.1.</span> <span class="nav-text">XML与JSON的区别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JSON%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F"><span class="nav-number">8.2.</span> <span class="nav-text">JSON语法格式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#FastJson"><span class="nav-number">8.3.</span> <span class="nav-text">FastJson</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#BeanUtil%E5%B7%A5%E5%85%B7%E7%B1%BB"><span class="nav-number">9.</span> <span class="nav-text">BeanUtil工具类</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0"><span class="nav-number">10.</span> <span class="nav-text">文件上传</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%BC%96%E7%A0%81"><span class="nav-number">10.1.</span> <span class="nav-text">客户端编码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E7%AB%AF%E7%BC%96%E7%A0%81"><span class="nav-number">10.2.</span> <span class="nav-text">服务端编码</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%80%9D%E8%B7%AF-1"><span class="nav-number">10.2.1.</span> <span class="nav-text">基本思路</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6-%E6%8A%93%E5%8C%85%E5%88%86%E6%9E%90"><span class="nav-number">10.2.1.1.</span> <span class="nav-text">上传文件, 抓包分析</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%8D%E5%8A%A1%E7%AB%AF%E8%8E%B7%E4%B8%8A%E4%BC%A0%E7%9A%84%E6%96%87%E4%BB%B6"><span class="nav-number">10.2.1.2.</span> <span class="nav-text">服务端获上传的文件</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FileUpload%E5%B7%A5%E5%85%B7%E7%B1%BB"><span class="nav-number">10.2.2.</span> <span class="nav-text">FileUpload工具类</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B0%86%E5%9B%BE%E7%89%87%E4%B8%8A%E4%BC%A0%E5%88%B0tomcat%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="nav-number">10.3.</span> <span class="nav-text">将图片上传到tomcat服务器</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3"><span class="nav-number">11.</span> <span class="nav-text">跨域问题解决</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="怪狗狗"
      src="/images/jerry.jpg">
  <p class="site-author-name" itemprop="name">怪狗狗</p>
  <div class="site-description" itemprop="description">踏上新征程----go！！！</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">60</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">91</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/oddDog-git" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;oddDog-git" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://1764501567@qq.com/" title="E-Mail → https:&#x2F;&#x2F;1764501567@qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="http://wpa.qq.com/msgrd?v=3&uin=1764501567&site=qq&menu=yes" title="http:&#x2F;&#x2F;wpa.qq.com&#x2F;msgrd?v&#x3D;3&amp;uin&#x3D;1764501567&amp;site&#x3D;qq&amp;menu&#x3D;yes" rel="noopener" target="_blank">加我QQ</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">怪狗狗</span>
</div>

<!--
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div> -->

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>


  <script defer src="/lib/three/three.min.js"></script>
    <script defer src="/lib/three/canvas_lines.min.js"></script>


  















  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'YVPmrsyUdC4uV9bapDgb8ll6-gzGzoHsz',
      appKey     : 'MUI57EQtRoMQjLvpW68kiNyE',
      placeholder: "快来评论吧！！！",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
